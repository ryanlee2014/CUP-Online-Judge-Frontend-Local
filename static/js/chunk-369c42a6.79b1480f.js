(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-369c42a6"],{f081:function(t,n){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh-cn":{"version control":"版本管理"},"en":{"version control":"Version Control"},"ja":{"version control":"バージョン管理"}}'),delete t.options._Ctor}},f288:function(t,n,e){"use strict";var s=e("f081"),i=e.n(s);n["default"]=i.a},f53c:function(t,n,e){"use strict";e.r(n);var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"ui container padding"},[e("h2",{staticClass:"ui dividing header"},[t._v(t._s(t.$t("version control")))]),e("div",{staticClass:"ui grid",staticStyle:{"margin-left":"0"}},[e("div",{staticClass:"row"},[e("h3",{staticClass:"ui header"},[t._v(" "+t._s(t.$t("frontend module version"))+" ")])]),e("div",{staticClass:"row"},[e("h3",{staticClass:"ui header"},[t._v(" "+t._s(t.$t("current version"))+" ")])]),e("div",{staticClass:"row"},[e("div",{staticClass:"ui card"},[e("RepoInfoCard",{scopedSlots:t._u([{key:"header",fn:function(){return[t._v(" "+t._s(t.currentFrontendInfo.version)+" ")]},proxy:!0},{key:"meta",fn:function(){},proxy:!0}])})],1)]),e("div",{staticClass:"row"},[e("h3",{staticClass:"ui header"},[t._v(" "+t._s(t.$t("repo branch version"))+" ")])]),e("div",{staticClass:"row"},[e("div",{staticClass:"ui cards"},t._l(t.frontendBranch,(function(n,s){return e("RepoInfoCard",{key:s,scopedSlots:t._u([{key:"header",fn:function(){return[t._v(" "+t._s(n.name)+" ")]},proxy:!0},{key:"meta",fn:function(){return[t._v(" "+t._s(n.version)+" ")]},proxy:!0},{key:"content",fn:function(){},proxy:!0}],null,!0)})})),1)]),e("div",{staticClass:"row"},[e("h3",{staticClass:"ui header"},[t._v(" "+t._s(t.$t("backend module version"))+" ")])]),e("div",{staticClass:"row"},[e("h3",{staticClass:"ui header"},[t._v(" "+t._s(t.$t("current version"))+" ")])]),e("div",{staticClass:"row"},[e("div",{staticClass:"ui card"},[e("RepoInfoCard",{scopedSlots:t._u([{key:"header",fn:function(){return[t._v(" "+t._s(t.currentBackendInfo.version)+" ")]},proxy:!0},{key:"meta",fn:function(){},proxy:!0}])})],1)]),e("div",{staticClass:"row"},[e("h3",{staticClass:"ui header"},[t._v(" "+t._s(t.$t("repo branch version"))+" ")])]),e("div",{staticClass:"row"},[e("div",{staticClass:"ui cards"},t._l(t.backendBranch,(function(n,s){return e("RepoInfoCard",{key:s,scopedSlots:t._u([{key:"header",fn:function(){return[t._v(" "+t._s(n.name)+" ")]},proxy:!0},{key:"meta",fn:function(){return[t._v(" "+t._s(n.version)+" ")]},proxy:!0},{key:"content",fn:function(){},proxy:!0}],null,!0)})})),1)])])])},i=[],a=(e("ddb0"),e("9ab4")),r=e("60a3"),o=e("2cd4"),c=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"ui card"},[e("div",{staticClass:"content"},[e("div",{staticClass:"header"},[t._t("header")],2),e("div",{staticClass:"meta"},[t._t("meta")],2),e("p",[t._t("content")],2)])])},d=[],u=e("2b0e");let l=class extends u["a"]{};l=Object(a["c"])([r["a"]],l);var h=l,v=h,f=e("2877"),p=Object(f["a"])(v,c,d,!1,null,"1d2c2c24",null),_=p.exports,C=e("9224");let b=class extends(Object(r["b"])(o["a"])){constructor(){super(...arguments),this.frontendBranch=[],this.backendBranch=[],this.currentFrontendInfo=C,this.currentBackendInfo={},this.frontendRepo="ryanlee2014/CUP-Online-Judge-NG-Frontend",this.backendRepo="CUP-ACM-Programming-Club/CUP-Online-Judge-Express"}mounted(){this.initFrontendData(),this.initBackendData()}buildBranchAPIUrl(t){return`https://api.github.com/repos/${t}/branches?timestamp=${Date.now()}`}buildVersion(t,n){const e=[];return n.forEach(n=>{const s=this.axios.get(this.buildJsDelivrLink(t,n.name)).then(({data:t})=>(n.version=t.version,n));e.push(s)}),Promise.all(e)}baseInitData(t,n){this.axios.get(this.buildBranchAPIUrl(t)).then(({data:n})=>this.buildVersion(t,n)).then(t=>(t.sort((t,n)=>t.version<n.version?1:t.version>n.version?-1:0),t)).then(t=>{this[n]=t})}initFrontendData(){this.baseInitData(this.frontendRepo,"frontendBranch")}initBackendData(){this.baseInitData(this.backendRepo,"backendBranch"),this.getBackendVersion()}getBackendVersion(){this.axios.get("/api/system/config/version_control/version").then(({data:t})=>{this.currentBackendInfo=this.buildVersionPackage(t.data)})}buildVersionPackage(t){return{version:t}}buildJsDelivrLink(t,n){return`https://cdn.jsdelivr.net/gh/${t}@${n}/package.json?timestamp=${Date.now()}`}};b=Object(a["c"])([Object(r["a"])({components:{RepoInfoCard:_}})],b);var k=b,y=k,m=e("f288"),g=Object(f["a"])(y,s,i,!1,null,"3ca8ea76",null);"function"===typeof m["default"]&&Object(m["default"])(g);n["default"]=g.exports}}]);