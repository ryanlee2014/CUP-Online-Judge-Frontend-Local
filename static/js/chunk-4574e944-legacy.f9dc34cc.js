(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4574e944"],{"37ba":function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh-cn":{"invite code manager":"邀请码管理"},"en":{"invite code manager":"Invite Code Manager"},"ja":{"invite code manager":"招待コード管理"}}'),delete t.options._Ctor}},"54de":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ui container padding"},[i("h2",{staticClass:"ui dividing header"},[t._v(t._s(t.$t("invite code manager")))]),i("div",{staticClass:"ui form"},[i("div",{staticClass:"field"},[i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"},[i("label",[t._v(t._s(t.$t("expire date")))]),i("div",{ref:"expireDate",staticClass:"ui calendar",attrs:{id:"expireDate"}},[i("div",{staticClass:"ui input left icon"},[i("i",{staticClass:"calendar icon"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.expireDate,expression:"expireDate"}],attrs:{id:"startTime",placeholder:"expire date",type:"text",autocomplete:"off"},domProps:{value:t.expireDate},on:{input:function(e){e.target.composing||(t.expireDate=e.target.value)}}})])]),i("div",{ref:"hideStartDate",staticStyle:{display:"none"}},[t._m(0)])]),i("div",{staticClass:"field"},[i("label",[t._v(t._s(t.$t("valid time")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.validUserNumber,expression:"validUserNumber"}],attrs:{type:"text",placeholder:"number only"},domProps:{value:t.validUserNumber},on:{input:function(e){e.target.composing||(t.validUserNumber=e.target.value)}}})])]),i("div",{staticClass:"field"},[i("div",{staticClass:"two fields"},[i("div",{staticClass:"field"}),i("div",{staticClass:"field"},[i("a",{staticClass:"ui primary button",on:{click:function(e){return e.preventDefault(),t.addInviteCode(e)}}},[t._v(t._s(t.$t("add")))])])])])])]),i("table",{staticClass:"ui celled structured table"},[i("thead",[i("tr",[i("th",[t._v(t._s(t.$t("invite code")))]),i("th",[t._v(t._s(t.$t("inviter")))]),i("th",[t._v(t._s(t.$t("rest valid time")))]),i("th",[t._v(t._s(t.$t("valid date")))]),i("th",[t._v(t._s(t.$t("expire")))])])]),i("tbody",t._l(t.inviteInfoList,(function(e){return i("tr",{key:e.invite_code},[i("td",[t._v(" "+t._s(e.invite_code)+" ")]),i("td",[i("router-link",{attrs:{to:"/user/"+e.user_id}},[t._v(t._s(e.user_id))])],1),i("td",[t._v(" "+t._s(e.valid_time)+" ")]),i("td",[t._v(" "+t._s(t.dayjs(e.valid_date).format("YYYY-MM-DD HH:mm:ss"))+" ")]),i("td",[i("button",{staticClass:"ui labeled icon black button",on:{click:function(i){return t.remove(e.invite_code)}}},[i("i",{staticClass:"trash icon"}),t._v(" "+t._s(t.$t("expire"))+" ")])])])})),0)])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("i"),i("input",{attrs:{type:"text"}})])}],s=i("d4ec"),r=i("bee2"),d=i("262e"),c=i("2caf"),o=i("9ab4"),l=i("60a3"),u=i("2cd4"),v=i("1157"),f=i.n(v),p=i("5a0c"),_=i.n(p),m=f.a,h=function(t){Object(d["a"])(i,t);var e=Object(c["a"])(i);function i(){var t;return Object(s["a"])(this,i),t=e.apply(this,arguments),t.expireDate=new Date,t.validUserNumber=0,t.inviteInfoList=[],t.dayjs=_.a,t}return Object(r["a"])(i,[{key:"mounted",value:function(){this.initData(),this.initJQuery()}},{key:"initData",value:function(){var t=this;this.axios.get("/api/admin/account/invite/all").then((function(e){var i=e.data;t.inviteInfoList=i.data})).catch((function(t){var e=t.data;alert(JSON.stringify(e))}))}},{key:"initJQuery",value:function(){var t=this,e=m(this.$refs.expireDate),i=m(this.$refs.hideStartDate);i.calendar({initialDate:new Date,endCalendar:e}),e.calendar({startCalendar:i,onChange:function(e){t.expireDate=new Date(e)}})}},{key:"addInviteCode",value:function(){var t=this,e={validUserNumber:parseInt(this.validUserNumber+""),expireDate:this.expireDate};this.axios.post("/api/admin/account/invite/add",e).then((function(e){e.data;alert("创建成功"),t.initData()})).catch((function(t){var e=t.data;alert(JSON.stringify(e))}))}},{key:"remove",value:function(t){var e={inviteCode:t};this.axios.post("/api/admin/account/invite/expire",e).then((function(e){e.data;alert("邀请码:".concat(t,"已设置过期"))})).catch((function(t){var e=t.data;alert("请求出错: ".concat(JSON.stringify(e)))}))}}]),i}(Object(l["b"])(u["a"]));h=Object(o["c"])([l["a"]],h);var b=h,x=b,C=i("2877"),y=i("7e30"),D=Object(C["a"])(x,a,n,!1,null,"5554f835",null);"function"===typeof y["default"]&&Object(y["default"])(D);e["default"]=D.exports},"7e30":function(t,e,i){"use strict";var a=i("37ba"),n=i.n(a);e["default"]=n.a}}]);