(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d0803"],{"67f2":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"ui container padding"},[e("h2",{staticClass:"ui dividing header"},[t._v(t._s(t.$t("contest assistant manage")))]),e("div",{staticClass:"ui form"},[e("div",{staticClass:"field"},[e("div",{staticClass:"two fields"},[e("div",{staticClass:"field"},[e("label",[t._v(t._s(t.$t("user_id")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userId,expression:"userId"}],attrs:{type:"text"},domProps:{value:t.userId},on:{input:function(s){s.target.composing||(t.userId=s.target.value)}}})]),e("div",{staticClass:"field"},[e("label",[t._v(t._s(t.$t("contest")))]),e("div",{staticClass:"ui fluid search dropdown selection",attrs:{id:"privilege"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.contestId,expression:"contestId"}],attrs:{type:"hidden"},domProps:{value:t.contestId},on:{change:function(s){t.contestId=s.target.value},input:function(s){s.target.composing||(t.contestId=s.target.value)}}}),e("i",{staticClass:"dropdown icon"}),e("div",{staticClass:"default text"}),e("div",{staticClass:"menu"},t._l(t.contestList,(function(s,i){return e("div",{key:i,staticClass:"item",attrs:{"data-value":s.contest_id}},[t._v(" "+t._s("Contest"+s.contest_id+" "+s.title)+" ")])})),0)])])])]),e("div",{staticClass:"field"},[e("div",{staticClass:"two fields"},[e("div",{staticClass:"field"}),e("div",{staticClass:"field"},[e("a",{staticClass:"ui primary button",on:{click:t.addPrivilege}},[t._v(t._s(t.$t("add")))])])])])]),e("table",{staticClass:"ui celled structured table"},[e("thead",[e("tr",[e("th",[t._v(t._s(t.$t("user_id")))]),e("th",[t._v(t._s(t.$t("contest_id")))]),e("th",[t._v(t._s(t.$t("remove")))])])]),e("tbody",t._l(t.assistantList,(function(s,i){return e("tr",{key:i},[e("td",[t._v(t._s(s.user_id))]),e("td",[t._v(t._s(s.contest_id))]),e("td",[e("a",{staticClass:"ui labeled icon black button",on:{click:function(e){return t.removePrivilege(s.user_id,s.contest_id)}}},[e("i",{staticClass:"trash icon"}),t._v(" "+t._s(t.$t("remove"))+" ")])])])})),0)])])},a=[],d=(e("ddb0"),e("9ab4")),n=e("60a3"),r=e("2cd4");let c=class extends(Object(n["b"])(r["a"])){constructor(){super(...arguments),this.userId="",this.contestId="",this.contestList=[],this.assistantList=[]}mounted(){this.refreshAssistantList(),this.axios.get("/api/contest/list/all").then(({data:t})=>{this.contestList=t.data})}buildPayload(){return{contestId:this.contestId,userId:this.userId}}refreshAssistantList(){return this.axios.get("/api/admin/contest/assistant/all").then(({data:t})=>{this.assistantList=t.data})}checkData(){return 0===this.userId.length?(alert("请填写用户"),!1):0!==this.contestId.length||(alert("请选择竞赛"),!1)}addPrivilege(){this.checkData()&&this.axios.post("/api/admin/contest/assistant",this.buildPayload()).then(({data:t})=>(alert("添加完成"),this.refreshAssistantList()))}removePrivilege(t,s){this.axios.post("/api/admin/contest/assistant/remove",{contestId:s,userId:t}).then(({data:t})=>(alert("删除完成"),this.refreshAssistantList()))}};c=Object(d["c"])([n["a"]],c);var l=c,o=l,u=e("2877"),v=Object(u["a"])(o,i,a,!1,null,"395f9e02",null);s["default"]=v.exports}}]);