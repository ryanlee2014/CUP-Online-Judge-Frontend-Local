(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f0638c54"],{"00d8":function(t,e){(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var i=t[r]<<16|t[r+1]<<8|t[r+2],a=0;a<4;a++)8*r+6*a<=8*t.length?n.push(e.charAt(i>>>6*(3-a)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<t.length;i=++r%4)0!=i&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|e.indexOf(t.charAt(r))>>>6-2*i);return n}};t.exports=n})()},"044b":function(t,e){function n(t){return!!t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function r(t){return"function"===typeof t.readFloatLE&&"function"===typeof t.slice&&n(t.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||r(t)||!!t._isBuffer)}},"06c5":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("a630"),n("fb6a"),n("b0c0"),n("d3b7"),n("25f0"),n("3ca3");var r=n("6b75");function i(t,e){if(t){if("string"===typeof t)return Object(r["a"])(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r["a"])(t,e):void 0}}},"07ac":function(t,e,n){var r=n("23e7"),i=n("6f53").values;r({target:"Object",stat:!0},{values:function(t){return i(t)}})},"19dd6":function(t,e,n){"use strict";n("4160"),n("159b");var r=n("d4ec"),i=n("bee2"),a=n("262e"),s=n("2caf"),o=n("9ab4"),c=n("60a3"),u=n("5dbd"),l=n("2b0e"),d=function(t){Object(a["a"])(n,t);var e=Object(s["a"])(n);function n(){var t;return Object(r["a"])(this,n),t=e.apply(this,arguments),t.timer_=[],t}return Object(i["a"])(n,[{key:"beforeDestroy",value:function(){var t=this.timer_;t.forEach((function(t){return clearInterval(t)}))}}]),n}(l["a"]);Object(o["c"])([u["b"]],d.prototype,"beforeDestroy",null),d=Object(o["c"])([c["a"]],d),e["a"]=d},"21a6":function(t,e,n){(function(n){var r,i,a;(function(n,s){i=[],r=s,a="function"===typeof r?r.apply(e,i):r,void 0===a||(t.exports=a)})(0,(function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function r(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){o(r.response,e,n)},r.onerror=function(){console.error("could not download file")},r.send()}function i(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function a(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(r){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,o=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype?function(t,e,n){var o=s.URL||s.webkitURL,c=document.createElement("a");e=e||t.name||"download",c.download=e,c.rel="noopener","string"==typeof t?(c.href=t,c.origin===location.origin?a(c):i(c.href)?r(t,e,n):a(c,c.target="_blank")):(c.href=o.createObjectURL(t),setTimeout((function(){o.revokeObjectURL(c.href)}),4e4),setTimeout((function(){a(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,s){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,s),n);else if(i(t))r(t,n,s);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout((function(){a(o)}))}}:function(t,e,n,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return r(t,e,n);var a="application/octet-stream"===t.type,o=/constructor/i.test(s.HTMLElement)||s.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&o)&&"object"==typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},u.readAsDataURL(t)}else{var l=s.URL||s.webkitURL,d=l.createObjectURL(t);i?i.location=d:location.href=d,i=null,setTimeout((function(){l.revokeObjectURL(d)}),4e4)}});s.saveAs=o.saveAs=o,t.exports=o}))}).call(this,n("c8ba"))},2500:function(t,e,n){var r,i,a;!function(n,s){i=[e],r=s,a="function"===typeof r?r.apply(e,i):r,void 0===a||(t.exports=a)}(0,(function(t){var e,n,r=window,i=document,a="mousemove",s="mouseup",o="mousedown",c="EventListener",u="add"+c,l="remove"+c,d=[],f=function(t,c){for(t=0;t<d.length;)c=d[t++],c=c.container||c,c[l](o,c.md,0),r[l](s,c.mu,0),r[l](a,c.mm,0);for(d=[].slice.call(i.getElementsByClassName("dragscroll")),t=0;t<d.length;)!function(t,c,l,d,f,h){(h=t.container||t)[u](o,h.md=function(e){t.hasAttribute("nochilddrag")&&i.elementFromPoint(e.pageX,e.pageY)!=h||(d=1,c=e.clientX,l=e.clientY,e.preventDefault())},0),r[u](s,h.mu=function(){d=0},0),r[u](a,h.mm=function(r){d&&((f=t.scroller||t).scrollLeft-=e=-c+(c=r.clientX),f.scrollTop-=n=-l+(l=r.clientY),t==i.body&&((f=i.documentElement).scrollLeft-=e,f.scrollTop-=n))},0)}(d[t++])};"complete"==i.readyState?f():r[u]("load",f,0),t.reset=f}))},"27f4":function(t,e,n){"use strict";var r=n("fb61"),i=n.n(r);i.a},2909:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("6b75");function i(t){if(Array.isArray(t))return Object(r["a"])(t)}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0");function a(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var s=n("06c5");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return i(t)||a(t)||Object(s["a"])(t)||o()}},"4bf2":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.state?n("div",{staticClass:"contestrank scoreboard padding"},[n("h2",{staticClass:"ui dividing header"},[t._v(" "+t._s(-1!==t.total&&t.finished?t.$t("contest ranklist"):"计算中,请稍后")+" "+t._s(!t.finished||t.hasPrivilege?"":t.$t("lite mode"))+" "),n("div",{staticClass:"sub header"},[t._v(" "+t._s(t.title)+" 总人数: "+t._s(this.totalNumber)+" ")])]),n("div",{staticClass:"ui grid"},[n("div",{staticClass:"row"},[n("div",{staticClass:"left aligned eight wide column"},[n("TimeView",{attrs:{start_time:t.start_time}})],1),n("div",{staticClass:"right aligned eight wide column"},[t.playing?t._e():n("button",{staticClass:"ui primary button item",on:{click:t.playRanklist}},[t._v("播放排名变化")]),t.playing?n("span",[t._v(" "+t._s(t.playingTime)+" ")]):t._e(),t.playing?n("button",{staticClass:"ui primary button",on:{click:t.pausePlayRanklist}},[t._v(t._s(t.playing?"暂停":"继续"))]):t._e(),t.playing?n("button",{staticClass:"ui primary button",on:{click:t.stopPlayRanklist}},[t._v("停止")]):t._e(),n("div",{staticClass:"ui toggle checkbox"},[n("input",{attrs:{type:"checkbox"},on:{click:function(e){t.auto_update=!t.auto_update}}}),n("label",[t._v("暂停自动更新排名")])]),n("div",{staticClass:"ui toggle checkbox"},[n("input",{attrs:{type:"checkbox"},on:{click:function(e){t.add_name=!t.add_name}}}),n("label",[t._v("加入学号")])]),n("a",{staticClass:"ui primary mini button",on:{click:t.exportXLS}},[t._v("保存表格到本地")])])]),n("div",{staticClass:"row"},[n("div",{staticClass:"ranking",staticStyle:{width:"100%"}},[n("table",{staticClass:"ui small celled table",attrs:{id:"rank"}},[n("thead",[n("tr",{staticClass:"toprow",attrs:{align:"center"}},[n("th",{staticClass:"{sorter:'false'}",staticStyle:{position:"sticky",top:"40px","z-index":"4"},attrs:{width:"5%"}},[t._v(t._s(t.$t("rank")))]),n("th",{staticStyle:{position:"sticky",top:"40px","z-index":"4"},attrs:{width:"5%"}},[t._v(t._s(t.$t("user_id")))]),n("th",{staticStyle:{"min-width":"90px",position:"sticky",top:"40px","z-index":"4"}},[t._v(t._s(t.$t("nick")))]),t.add_name?n("th",{staticStyle:{position:"sticky",top:"40px","z-index":"4"},attrs:{width:"5%"}},[t._v("Id")]):t._e(),t.hasPrivilege?n("th",{staticStyle:{position:"sticky",top:"40px","z-index":"4"},attrs:{width:"5%"}},[t._v("通过/测试比")]):t._e(),t.hasPrivilege?n("th",{staticStyle:{position:"sticky",top:"40px","z-index":"4"},attrs:{width:"5%"}},[t._v("通过/提交比")]):t._e(),n("th",{staticStyle:{position:"sticky",top:"40px","z-index":"4"},attrs:{width:"5%"}},[t._v(t._s(t.$t("accept")))]),n("th",{staticStyle:{position:"sticky",top:"40px","z-index":"4"},attrs:{width:"5%"}},[t._v(t._s(t.$t("penalty")))]),t._l(Array.from(Array(Math.max(0,t.total)).keys()),(function(e){return n("th",{key:e,staticStyle:{"min-width":"85.71px",position:"sticky",top:"40px","z-index":"4"}},[t._v(t._s(1001+e)+" ")])}))],2)]),n("transition-group",{attrs:{name:"list-complete",tag:"tbody"}},t._l(t.submitter,(function(e,r){return n("tr",{directives:[{name:"show",rawName:"v-show",value:e.rank<=Math.trunc(.3*t.totalNumber)||e.user_id===t.user_id||t.hasPrivilege,expression:"row.rank <= Math.trunc(totalNumber * 0.3) || row.user_id === user_id || hasPrivilege"}],key:e.user_id,staticClass:"list-complete-item",staticStyle:{cursor:"grab!important"}},[n("td",{class:t.rankClass(r),staticStyle:{"text-align":"center","font-weight":"bold",position:"sticky",left:"0"}},[t._v(t._s(e.rank)+" ")]),n("td",{staticClass:"ui white"},[n("router-link",{attrs:{to:"/user/"+e.user_id}},[t._v(t._s(e.user_id))])],1),n("td",{staticClass:"ui white"},[n("router-link",{attrs:{to:"/user/"+e.user_id}},[t._v(t._s(t.convertHTML(e.nick)))])],1),t.add_name?n("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.convertHTML(e.real_name)))]):t._e(),t.hasPrivilege?n("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(0===e.totalTestRun?"无测试运行":Math.trunc(1e4*e.ac/e.totalTestRun)/100+"%"))]):t._e(),t.hasPrivilege?n("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(0===e.totalSubmitTime?"未提交":Math.trunc(1e4*e.ac/e.totalSubmitTime)/100+"%"))]):t._e(),n("td",{staticStyle:{"text-align":"center"}},[n("router-link",{attrs:{to:"/contest/status/"+t.cid+"?user_id="+e.user_id}},[t._v(t._s(e.ac)+" ")])],1),n("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.format_date(e.penalty_time)))]),t._l(e.problem.toArray(),(function(e,r){return n("ResultGrid",{key:r+0,attrs:{gridBackground:e.accept.length>0?e.first_blood?1:-1:0,problem:e,lock:t.popupLock,"enable-pop-up":t.enablePopUp,format_date:t.format_date}})}))],2)})),0)],1),n("table",{style:"display:none;vnd.ms-excel.numberformat:@",attrs:{id:"save"}},[n("tbody",[n("tr",{staticClass:"toprow",attrs:{align:"center"}},[n("td",{attrs:{width:"5%"}},[t._v(t._s(t.$t("rank")))]),n("td",{attrs:{width:"5%"}},[t._v(t._s(t.$t("user_id")))]),n("td",[t._v(t._s(t.$t("nick")))]),t.add_name?n("td",{attrs:{width:"5%"}},[t._v("学号")]):t._e(),t.hasPrivilege?n("td",{attrs:{width:"5%"}},[t._v("通过/测试比")]):t._e(),t.hasPrivilege?n("td",{attrs:{width:"5%"}},[t._v("通过/提交比")]):t._e(),n("td",{attrs:{width:"5%"}},[t._v(t._s(t.$t("accept")))]),n("td",{attrs:{width:"5%"}},[t._v(t._s(t.$t("penalty")))]),n("td",[t._v("环境指纹数")]),n("td",[t._v("硬件指纹数")]),n("td",[t._v("IP总数")]),n("td",[t._v("地点")]),t._l(Array.from(Array(Math.max(0,t.total)).keys()),(function(e){return n("td",{key:e},[t._v(t._s(1001+e))])}))],2),t._l(t.submitter,(function(e,r){return n("tr",{key:r},[n("td",{attrs:{align:"center"}},[t._v(t._s(e.rank))]),n("td",{attrs:{align:"center"}},[t._v(t._s(e.user_id))]),n("td",{attrs:{align:"center"}},[t._v(t._s(t.convertHTML(e.nick)))]),t.add_name?n("td",{attrs:{align:"center"}},[t._v(t._s(t.convertHTML(e.real_name)))]):t._e(),t.hasPrivilege?n("td",{attrs:{align:"center"}},[t._v(t._s(0===e.totalTestRun?"无测试运行":Math.trunc(1e4*e.ac/e.totalTestRun)/100+"%"))]):t._e(),t.hasPrivilege?n("td",{attrs:{align:"center"}},[t._v(t._s(0===e.totalSubmitTime?"未提交":Math.trunc(1e4*e.ac/e.totalSubmitTime)/100+"%"))]):t._e(),n("td",{attrs:{align:"center"}},[t._v(t._s(e.ac))]),n("td",[t._v(t._s(t.format_date(e.penalty_time)))]),n("td",[t._v(t._s(e.fingerprintSet.size))]),n("td",[t._v(t._s(e.hardwareFingerprintSet.size))]),n("td",[t._v(t._s(e.ipSet.size))]),n("td",[t._v(t._s(1===e.ipSet.size?t.detectPlace(Array.from(e.ipSet)[0]):0===e.ipSet.size?"无":"略")+" ")]),t._l(e.problem.toArray(),(function(e,r){return n("td",{key:r,attrs:{bgcolor:"#FF"+t.formatColor(Math.max(Math.floor(256-256*Math.max(e.highestSim-69,0)/31)-1,0)),align:"left"}},[t._v(" "+t._s(e.submit.length>0?"(-":"")+t._s(e.try_time>0?e.try_time+")":e.submit.length>0?e.submit.length+")":"")+t._s(e.accept.length>0?t.format_date(e.accept[0].diff(e.start_time,"second")):"")+t._s(e.highestSim>0?"("+e.highestSim+"%)":"")+" ")])}))],2)}))],2)])])])])]):n("ErrorView",{attrs:{errormsg:t.errormsg}})},i=[],a=(n("99af"),n("4de4"),n("7db0"),n("4160"),n("a630"),n("caad"),n("c975"),n("a15b"),n("d81d"),n("b65f"),n("d3b7"),n("07ac"),n("ac1f"),n("25f0"),n("6062"),n("2532"),n("3ca3"),n("5319"),n("1276"),n("159b"),n("ddb0"),n("5530")),s=(n("96cf"),n("1da1")),o=n("d4ec"),c=n("bee2"),u=n("262e"),l=n("2caf"),d=n("9ab4"),f=n("2cd4"),h=n("21a6"),p=n("3657"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h3",{staticClass:"ui header"},[t._v(" 当前时间:"+t._s(t.current_time)+" "),t.start_time?n("div",{staticClass:"sub header"},[t._v(" 起始时间:"+t._s(t.dayjs(t.start_time).format("YYYY-MM-DD HH:mm:ss"))+", "+t._s(t.format_time(t.dayjs().diff(t.start_time,"second")))+" ")]):t._e()])},m=[],b=(n("a9e3"),n("5a0c")),y=n.n(b),g=n("60a3"),_=n("19dd6"),w=n("5dbd"),k=function(t){Object(u["a"])(n,t);var e=Object(l["a"])(n);function n(){var t;return Object(o["a"])(this,n),t=e.apply(this,arguments),t.current_time="",t.dayjs=y.a,t}return Object(c["a"])(n,[{key:"created",value:function(){this.current_time=this.currentTime()}},{key:"currentTime",value:function(){return y()().format("YYYY-MM-DD HH:mm:ss")}},{key:"timeUpdater",value:function(){this.current_time=this.currentTime()}},{key:"mounted",value:function(){this.timeUpdater()}},{key:"format_time",value:function(t){var e=["还有","已经过"],n=Number(t>0);return e[n]+this.format_date(t)}},{key:"fillZero",value:function(t){return t.length<2?"0"+t:t}},{key:"format_date",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=Math.abs(t);var n=String(Math.trunc(t/3600));n=this.fillZero(n);var r=String(Math.trunc((t-3600*parseInt(n))/60));r=this.fillZero(r);var i=String(t%60);return i=this.fillZero(i),e?n+" : "+r+" : "+i:n+":"+r+":"+i}}]),n}(Object(g["b"])(_["a"]));Object(d["c"])([Object(g["c"])({default:y()()})],k.prototype,"start_time",void 0),Object(d["c"])([Object(w["d"])(1e3)],k.prototype,"timeUpdater",null),k=Object(d["c"])([g["a"]],k);var x=k,S=x,j=n("2877"),O=Object(j["a"])(S,v,m,!1,null,"145b8b58",null),T=O.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui container padding"},[t._m(0),n("div",{staticClass:"ui segment"},[n("div",{staticClass:"ui error message"},[n("div",{staticClass:"header"},[t._v(" 错误信息内容 ")]),n("br"),n("h5",{staticClass:"ui header"},[t._v("URL:"+t._s(t.location.href))]),n("br"),n("b",[n("p",{domProps:{innerHTML:t._s(t.errormsg)}})])])])])},A=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h2",{staticClass:"ui dividing header"},[t._v(" 发生错误 "),n("div",{staticClass:"sub header"},[t._v(" 请把以下内容反馈给老师、助教或本平台的开发者Ryan Lee(李昊元) ")])])}],I=n("2b0e"),R=function(t){Object(u["a"])(n,t);var e=Object(l["a"])(n);function n(){var t;return Object(o["a"])(this,n),t=e.apply(this,arguments),t.location=location,t}return n}(I["a"]);Object(d["c"])([Object(g["c"])({default:""})],R.prototype,"errormsg",void 0),R=Object(d["c"])([g["a"]],R);var M=R,E=M,L=Object(j["a"])(E,C,A,!1,null,"293a19dc",null),P=L.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",{ref:"block",class:t.gridBackgroundClass,staticStyle:{"text-align":"center"},attrs:{"data-html":t.generateDataHTML}},[n("b",{class:"text "+(t.problem.accept.length>0?t.problem.first_blood?"first accept":"accept":"red")},[t._v(" "+t._s(t.problem.accept.length>0||t.problem.submit.length>0?"+":"")+" "+t._s(t.problem.try_time>0?t.problem.try_time:0==t.problem.accept.length&&t.problem.submit.length>0?t.problem.submit.length:""))]),t.problem.accept.length>0?n("br"):t._e(),t.problem.accept.length>0&&"function"===typeof t.problem.accept[0].diff?n("span",{class:t.problem.first_blood?"first accept text":""},[t._v(" "+t._s(t.format_date(t.problem.accept[0].diff(t.problem.start_time,"second")))+" ")]):t._e()])},N=[],D=n("b85c"),H=n("2909"),U=n("1157"),z=n.n(U),q=z.a,Y=function(t){Object(u["a"])(n,t);var e=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),e.apply(this,arguments)}return Object(c["a"])(n,[{key:"mounted",value:function(){this.enablePopUp&&this.triggerPopup()}},{key:"triggerPopup",value:function(){this.lock;var t=this.problem.submit,e=this.problem.accept;(t.length>0||e.length>0)&&q(this.$refs.block).popup({hoverable:!0}).popup()}},{key:"buildItem",value:function(){var t=this.problem.submit,e=this.problem.accept,n=[].concat(Object(H["a"])(t.map((function(t){return{pass:!1,time:t}}))),Object(H["a"])(e.map((function(t){return{pass:!0,time:t}}))));n.sort((function(t,e){return t.time.isBefore(e.time)?-1:t.time.isAfter(e.time)?1:0}));var r="",i=13,a=n.length>i,s=n.length;while(n.length>i)n.shift();a&&(r+='<div class="item"><i class="icon"></i><div class="content"><div class="header">Trim '.concat(s-i," submission</div> </div></div>"));var o,c=Object(D["a"])(n);try{for(c.s();!(o=c.n()).done;){var u=o.value,l='<div class="item">';u.pass?l+='<i class="checkmark important icon"></i>':l+='<i class="remove important icon"></i>',l+='<div class="content">',l+='<div class="header">'.concat(u.pass?"Passed":"Failed","</div>"),l+='<div class="description">'.concat(u.time.format("YYYY-MM-DD HH:mm:ss"),"</div>"),l+="</div></div>",r+=l}}catch(d){c.e(d)}finally{c.f()}return r}},{key:"generateDataHTML",get:function(){var t='<div class="ui list">';return t+=this.buildItem(),t+="</div>",t}},{key:"gridBackgroundClass",get:function(){var t=this.gridBackground;return 0===t?"":1===t?"first accept":"accept"}}]),n}(I["a"]);Object(d["c"])([Object(g["c"])({default:0})],Y.prototype,"gridBackground",void 0),Object(d["c"])([Object(g["c"])({default:function(){}})],Y.prototype,"lock",void 0),Object(d["c"])([Object(g["c"])({default:function(){return{accept:[],submit:[]}}})],Y.prototype,"problem",void 0),Object(d["c"])([Object(g["c"])({default:function(){return function(){}}})],Y.prototype,"format_date",void 0),Object(d["c"])([Object(g["c"])({default:!0})],Y.prototype,"enablePopUp",void 0),Y=Object(d["c"])([g["a"]],Y);var F=Y,W=F,X=(n("27f4"),Object(j["a"])(W,B,N,!1,null,"3ee85bbe",null)),Z=X.exports,J=n("fa82"),V=n.n(J),G=n("2ef0"),K=n.n(G),Q=(n("498a"),n("53ca")),tt=y()();function et(t){var e,n,r=0;if(0===t.length)return r;for(e=0;e<t.length;e++)n=t.charCodeAt(e),r=(r<<5)-r+n,r|=0;return r}function nt(){}function rt(t,e){return t.isBefore(e)?-1:t.isAfter(e)?1:0}function it(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&!isNaN(parseInt(n))&&e.push(t[n]);return e}function at(){var t={submit:[],accept:[],simRate:[],sim:0,try_time:0,start_time:tt,first_blood:!1,highestSim:0,_submit:new Set,_accept:new Set,setSim:function(t){null!==t&&(this.simRate.push(t),this.sim=t,this.highestSim=Math.max(this.highestSim,t))},set:function(e){Object.assign(t,e)},update:function(t,e){return null!==this[t]&&"object"===Object(Q["a"])(this[t])&&"function"===typeof this[t].push?this["_"+t].has(et(e.toString()))||(this["_"+t].add(et(e.toString())),this[t].push(e)):"number"===typeof this[t]&&(this[t]=e),this},addSubmit:function(t){switch(t.result){case 4:this.update("accept",y()(t.in_date));break;case 5:case 6:case 7:case 8:case 9:case 10:this.update("submit",y()(t.in_date));break}},calculatePenaltyTime:function(){var t=this.start_time;if(this.accept.length>0){this.accept.sort(rt),this.submit.sort(rt);var e=this.accept[0].diff(t,"second");this.try_time=0;var n,r=Object(D["a"])(this.submit);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.isBefore(this.accept[0]))break;++this.try_time,e+=1200}}catch(a){r.e(a)}finally{r.f()}return e}return 0},isAccepted:function(){return this.accept.length>0},getAcceptTime:function(){return this.accept[0]},newInstance:at};return t}function st(t){var e={total:0,get:function(n){return"undefined"!==typeof e[n]?e[n]:(t=Math.max(n,t),e[n]=at())},toArray:function(){return it(e)},calculatePenaltyTime:function(){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&!isNaN(parseInt(n))&&(t+=e[n].calculatePenaltyTime());return t},calculateAC:function(){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&!isNaN(parseInt(n))&&e[n].accept.length>0&&++t;return t},updateTotal:function(t){t=this.total=Math.max(t,this.total);for(var e=0;e<t;++e)void 0!==this[e]&&null!==this[e]||(this[e]=at())},newInstance:st};return e.updateTotal(t),e}function ot(t){return"string"!==typeof t&&(t=""),t.length>0?t.trim():"未注册"}function ct(t){return"string"!==typeof t&&(t=""),t.trim()}function ut(){var t=new Set,e=t.add;return t.add=function(n){return"undefined"!==typeof n&&e.apply(t,arguments),this},t.newInstance=ut,t}function lt(){var t=1e11,e={time:t,person:{first_blood:!0},setFirstBlood:nt,newInstance:nt};return e.setFirstBlood=function(t,e){"undefined"!==typeof this.person&&t<this.time&&(this.time=t,this.person.first_blood=!1,this.person=e,e.first_blood=!0)},e.newInstance=lt,e}function dt(t){var e={get:nt,newInstance:nt};if("number"===typeof t)for(var n=0;n<t;++n)e[n]=lt();return e.get=function(t){return"undefined"!==typeof this[t]?this[t]:this[t]=lt()},e.newInstance=dt,e}function ft(t,e,n){return{ac:0,rank:-1,nick:ot(t),problem:st(e),penalty_time:0,fingerprintSet:ut(),hardwareFingerprintSet:ut(),ipSet:ut(),real_name:"",totalSubmitTime:0,totalTestRun:0,user_id:ct(n),submissions:[],solutionIdSet:new Set,addSubmission:function(t){this.submissions.push(t)},submissionIncrement:function(){++this.totalSubmitTime},testRunIncrement:function(t){this.totalTestRun+=Number(t.problem_id<0)},addData:function(t){this.solutionIdSet.has(t.solution_id)||(this.solutionIdSet.add(t.solution_id),this.fingerprintSet.add(t.fingerprint),this.hardwareFingerprintSet.add(t.fingerprintRaw),this.ipSet.add(t.ip),this.problem.get(t.num).setSim(t.sim),this.problem.get(t.num).set({start_time:t.start_time}),this.problem.get(t.num).addSubmit(t),this.submissionIncrement(),this.testRunIncrement(t),this.addSubmission(t))},updateTotal:function(t){this.problem.updateTotal(t)},calculatePenaltyTime:function(){this.penalty_time=this.problem.calculatePenaltyTime()},calculateAC:function(){this.ac=this.problem.calculateAC()},calculateFirstBlood:function(t){for(var e in this.problem)try{if(Object.prototype.hasOwnProperty.call(this.problem,e)&&!isNaN(parseInt(e))&&this.problem[e].isAccepted()){var n=this.problem[e].getAcceptTime().diff(this.problem[e].start_time,"second");t.get(e).setFirstBlood(n,this.problem.get(parseInt(e)))}}catch(r){console.log(r),console.log("Firstbloodlist",t),console.log("this.problem",this.problem)}},newInstance:ft}}function ht(t){var e=1;switch(t.toLowerCase()){case"greater":e=1;break;case"lesser":e=-1;break}return function(t,n){return e*(t.ac!==n.ac?n.ac-t.ac:t.penalty_time-n.penalty_time)}}var pt=n("2f62"),vt=n("beea"),mt=n("2500"),bt=mt.reset,yt=[];window.submissionCollection=yt;var gt=!1,_t=function(t){Object(u["a"])(n,t);var e=Object(l["a"])(n);function n(){var t;return Object(o["a"])(this,n),t=e.apply(this,arguments),t.submitter=[],t.total=-1,t.start_time=y()(),t.title="",t.assistant=!1,t.finished=!1,t.users=[],t.add_name=!1,t.auto_update=!0,t.totalNumber=0,t.enablePopUp=!1,t.playingTime=y()().format("YYYY-MM-DD HH:mm:ss"),t.popupLock=new V.a,t.waiting_queue=[],t.state=!0,t.errormsg="",t.dayjs=y.a,t.select=$,t.console=console,t.playing=!1,t.playInterval=0,t.backup_data=[],t.firstRender=!0,t.userStructure={},t.firstBloodList=void 0,t.worker=null,t}return Object(c["a"])(n,[{key:"created",value:function(){var t=this;this.sockets.subscribe("submit",(function(e){t.handleNewSubmit(e)})),this.sockets.subscribe("result",(function(e){t.handleNewSubmit(e)}))}},{key:"beforeDestroy",value:function(){this.sockets.unsubscribe("submit"),this.sockets.unsubscribe("result");var t=$("body");t.removeClass("dragscroll"),t.css({overflow:""})}},{key:"toArray",value:function(t){return Array.isArray(t)||(t=[t]),t}},{key:"updateSubmitter",value:function(t){t.calculatePenaltyTime(),t.calculateAC(),t.calculateFirstBlood(this.firstBloodList)}},{key:"fillSubmitterList",value:function(t,e){for(var n=e.length,r=0;r<n;++r){var i=this.users.length>0;if(!t[e[r].user_id.toLowerCase()]){if(i)continue;t[e[r].user_id.toLowerCase()]=ft(e[r].nick,this.total,e[r].user_id)}e[r].num<this.total&&t[e[r].user_id.toLowerCase()].addData(e[r])}}},{key:"initUserTable",value:function(t){var e=this;K.a.forEach(this.users,(function(n){t[n.user_id.toLowerCase()]||(t[n.user_id.toLowerCase()]=ft(n.nick,e.total,n.user_id))}))}},{key:"calculateRank",value:function(){var t=this;this.submitter.sort(ht("greater"));var e=1;window.submitter=this.submitter,this.totalNumber=0,K.a.forEach(this.submitter,(function(n){return n.rank=n.ac>0?(++t.totalNumber,e++):e}))}},{key:"updateSubmitterTotalProblemNumber",value:function(t){var e=this;t.forEach((function(t){return t.updateTotal(e.total)}))}},{key:"rankClass",value:function(t){var e=this.totalNumber;return t=parseInt(t),t<=.1*e+1?"ui yellow":t<=.3*e+1?"ui grey":t<=.6*e+1?"ui orange":"ui white"}},{key:"playRanklist",value:function(){this.auto_update=!1,this.playing=!0;var t=this.backup_data=yt;t.sort((function(t,e){var n=y()(t.in_date),r=y()(e.in_date);return n.isAfter(r)?1:-1})),yt=[],this.submitter=[],this.firstRender=!0,this.startInterval()}},{key:"startInterval",value:function(){var t=this,e=this.backup_data;this.playInterval=setInterval((function(){if(e.length>0){var n=e.shift();while(e.length>0&&n.result<4&&n.result>=11)n=e.shift();t.playingTime=y()(n.in_date).format("YYYY-MM-DD HH:mm:ss"),t.scoreboard=n,0===e.length&&t.endInterval()}else t.endInterval()}),30)}},{key:"endInterval",value:function(){clearInterval(this.playInterval),this.playing=!1,this.auto_update=!0}},{key:"pausePlayRanklist",value:function(){this.playing?(this.playing=!1,clearInterval(this.playInterval)):(this.playing=!0,this.startInterval())}},{key:"stopPlayRanklist",value:function(){this.playing=!1,clearInterval(this.playInterval),this.scoreboard=this.backup_data.filter((function(t){return"undefined"!==typeof t})),this.backup_data=[],this.auto_update=!0}},{key:"fillZero",value:function(t){return t.length<2?"0"+t:t}},{key:"format_date",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.fillZero;t=parseInt(t);var r=n(Math.trunc(t/3600).toString()),i=n(Math.trunc((t-3600*parseInt(r))/60).toString()),a=n((t%60).toString());return e?r+"："+i+"："+a:r+":"+i+":"+a}},{key:"formatColor",value:function(t){var e=t.toString(16);return t<16?"0"+e+"0"+e:""+e+e}},{key:"detectPlace",value:function(t){return t?p["a"].detectIP({intranet_ip:t,place:"",$this:this,toString:function(){return this.intranet_ip+""}}):"未知"}},{key:"convertHTML",value:function(t){var e=document.createElement("div");return e.innerHTML=t,e.innerText}},{key:"decodeHTML",value:function(t){return"string"!==typeof t&&(t=""),t.replace("·","&middot;")}},{key:"exportXLS",value:function(){var t=document.getElementById("save"),e='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta http-equiv=\'Content-Type\' content=\'application/vnd.ms-excel; charset=utf-8\' /></head>';e+="<tr>Contest "+this.cid+" "+this.title+"</tr>",e+="<table border=1>"+t.innerHTML.replace("<tbody>","").replace("</tbody>",""),e+="<tr><td colspan='8'>环境指纹指根据用户的硬件环境及IP地址不同而产生的不同的指纹</td></tr>",e+="<tr><td colspan='8'>硬件指纹指的是不受IP影响的指纹</td></tr>",e+="<tr><td colspan='8'>若环境指纹与硬件指纹均唯一，代表用户使用相同设备在相同地点完成提交</td></tr>",e+="<tr><td colspan='8'>若硬件指纹唯一而环境指纹不唯一，代表同型号机器在不同IP地址提交</td></tr>",e+="<tr><td colspan='8'>若硬件指纹不唯一，代表使用了多台设备进行提交</td></tr>",e+="</table></html>";var n=new Blob([e],{type:"application/vnd.ms-excel;charset=UTF-8;"});gt?Object(h["saveAs"])(n,"Contest "+this.cid+" 多个contest.xls"):Object(h["saveAs"])(n,"Contest "+this.cid+" "+this.title+".xls")}},{key:"handleNewSubmit",value:function(t){if(parseInt(t.contest_id)===parseInt(this.cid)&&1===t.finish){var e={nick:t.nick,user_id:t.user_id,start_time:this.start_time,avatar:0,in_date:t.in_date,num:parseInt(t.num),result:t.state};this.auto_update?this.scoreboard=e:this.waiting_queue.push(e)}}},{key:"onAutoUpdateChanged",value:function(){while(this.waiting_queue.length>0)this.scoreboard=this.waiting_queue.shift()}},{key:"onAddNameChanged",value:function(t){var e=this;if(t)for(var n=0;n<this.submitter.length;++n)this.axios.get("/api/user/nick/".concat(this.decodeHTML(this.submitter[n].nick))).then((function(t){var n=t.data;if(n&&n.data&&n.data.length>0){for(var r=n.nick,i=n.data,a="",s=0;s<i.length;++s)if(!isNaN(i[s].user_id)){a=i[s].user_id;break}for(var o=0;o<e.submitter.length;++o)if(e.decodeHTML(e.submitter[o].nick)===r){e.submitter[o].real_name=a;break}}}))}},{key:"onContestIdChanged",value:function(t){"0"!==t&&this.initData(t)}},{key:"updated",value:function(){document.title="ContestRank: "+this.title,$("#rank>tbody").find("tr").each((function(){$(this).find("td").eq(2).css({position:"sticky",left:$(this).find("td").eq(2).prev().outerWidth()+$(this).find("td").eq(1).prev().outerWidth(),borderRight:"1px solid rgba(34,36,38,.1)"}),$(this).find("td").eq(1).css({position:"sticky",left:$(this).find("td").eq(1).prev().outerWidth()})}));var t=$("#rank thead tr:first-child th");if(null!==t&&t.length){var e=t.outerHeight();document.documentElement.style.setProperty("--first-header-row-height",String(e)+"px")}}},{key:"checkContestAssistant",value:function(){var t=this;Object(vt["a"])(this.cid).then((function(e){t.assistant=e}))}},{key:"initData",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,r,i,a,s,o,c,u,l,d=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=this,r=[],r=-1!==e.indexOf(",")?e.split(","):[e],i=0,a=[],s=new Set,gt=r.length>1,o=function(t){return d.axios.get("/api/scoreboard/".concat(t)).then((function(t){var e=t.data;return e}))},!(r.length>1)){t.next=30;break}return n.title=r.join(","),t.prev=10,t.next=13,Promise.all(r.map((function(t){return o(t)})));case 13:c=t.sent,c.forEach((function(t){K.a.forEach(t.data,(function(e){e.num+=i,e.start_time=y()(t.start_time),a.push(e)})),K.a.forEach(t.users,(function(t){s.add(t)})),i+=t.total,n.total=i,n.users=Array.from(s)})),this.$nextTick((function(){d.scoreboard=a})),this.finished=!0,t.next=28;break;case 19:t.prev=19,t.t0=t["catch"](10),console.log("e",t.t0),u=t.t0.data.data,n.state=!1,n.submitter=[],l=!0===u.contest_mode?"根据设置，内容非公开":u.statement&&u.statement.includes&&u.statement.includes("denied")?"根据设置，您无权访问":"Contest "+e+":\n"+u.statement,l=l.replace(/\n/g,"<br>"),n.errormsg=l;case 28:t.next=34;break;case 30:return e=r.shift(),t.next=33,this.axios.get("/api/scoreboard/".concat(e));case 33:this.axios.get("/api/scoreboard/".concat(e)).then((function(t){var e=t.data;d.finished=!0,n.total=e.total,n.users=e.users,n.start_time=window.start_time=y()(e.start_time),K.a.forEach(e.data,(function(t){t.start_time=y()(e.start_time)})),n.scoreboard=e.data,yt=e.data,a=e.data,"string"===typeof e.title&&0===e.title.length&&(e.title="未设置标题"),n.title=e.title})).catch((function(t){var r=t.data;n.state=!1,n.submitter=[],r.statement||(n.errormsg="根据设置，内容非公开".replace(/\n/g,"<br>")),r.statement.includes&&r.statement.includes("denied")?n.errormsg="根据设置，您无权访问".replace(/\n/g,"<br>"):n.errormsg=("Contest "+e+":\n"+r.statement).replace(/\n/g,"<br>")}));case 34:case"end":return t.stop()}}),t,this,[[10,19]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"mounted",value:function(){window.datas=[],yt=[],document.title="Contest Rank ".concat(this.cid," -- ").concat(document.title),this.checkContestAssistant();var t=$("body");t.addClass("dragscroll"),t.css({overflow:"auto"}),bt(),"0"!==this.cid&&this.initData(this.cid)}},{key:"scoreboard",get:function(){return null},set:function(t){var e=this;this.auto_update=!1;try{var n;if(t=yt=yt.concat(this.toArray(t)),this.firstRender)this.firstRender=!1,this.firstBloodList=dt(),n={},this.initUserTable(n),this.fillSubmitterList(n,t),this.userStructure=n,this.submitter=n=Object.values(n),n.forEach(this.updateSubmitter);else{n=this.userStructure;var r=new Set;this.fillSubmitterList(n,t),t.forEach((function(t){return"undefined"!==typeof n[t.user_id.toLowerCase()]?r.add(n[t.user_id.toLowerCase()]):""})),r.forEach(this.updateSubmitter),this.submitter=n=Object.values(n),this.updateSubmitterTotalProblemNumber(n)}this.calculateRank(),this.enablePopUp=this.totalNumber*this.total<1e3,window.temp_data=yt,window.datas=this.submitter}catch(a){e.state=!1,e.submitter=[],console.log(a);var i=a.stack;i=i.replace(/\n/g,"<br>"),e.errormsg=i}this.auto_update=!0,window.userStructure=this.userStructure}},{key:"hasPrivilege",get:function(){return this.$store.getters.admin||this.$store.getters.contest_maker[this.cid]||this.$store.getters.contest_manager||this.assistant}}]),n}(Object(g["b"])(f["a"]));Object(d["c"])([Object(g["c"])({default:"0"})],_t.prototype,"cid",void 0),Object(d["c"])([Object(g["d"])("auto_update")],_t.prototype,"onAutoUpdateChanged",null),Object(d["c"])([Object(g["d"])("add_name")],_t.prototype,"onAddNameChanged",null),Object(d["c"])([Object(g["d"])("cid")],_t.prototype,"onContestIdChanged",null),_t=Object(d["c"])([Object(g["a"])({components:{ErrorView:P,TimeView:T,ResultGrid:Z},i18n:{messages:{"zh-cn":{"lite mode":"简洁模式"},en:{"lite mode":"Lite Mode"},ja:{"lite mode":"簡略モード"}}},computed:Object(a["a"])({},Object(pt["b"])(["admin","contest_manager","user_id"]))})],_t);var wt=_t,kt=wt,xt=(n("abd5"),Object(j["a"])(kt,r,i,!1,null,"13b4948b",null));e["a"]=xt.exports},"4df4":function(t,e,n){"use strict";var r=n("0366"),i=n("7b0b"),a=n("9bdd"),s=n("e95a"),o=n("50c4"),c=n("8418"),u=n("35a1");t.exports=function(t){var e,n,l,d,f,h,p=i(t),v="function"==typeof this?this:Array,m=arguments.length,b=m>1?arguments[1]:void 0,y=void 0!==b,g=u(p),_=0;if(y&&(b=r(b,m>2?arguments[2]:void 0,2)),void 0==g||v==Array&&s(g))for(e=o(p.length),n=new v(e);e>_;_++)h=y?b(p[_],_):p[_],c(n,_,h);else for(d=g.call(p),f=d.next,n=new v;!(l=f.call(d)).done;_++)h=y?a(d,b,[l.value,_],!0):l.value,c(n,_,h);return n.length=_,n}},"5dbd":function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"d",(function(){return p})),n.d(e,"b",(function(){return v})),n.d(e,"g",(function(){return m})),n.d(e,"e",(function(){return b})),n.d(e,"c",(function(){return y})),n.d(e,"f",(function(){return g}));n("99af"),n("a15b"),n("d81d"),n("b0c0"),n("96cf");var r=n("1da1"),i=n("2ef0"),a=n.n(i),s=n("6821"),o=n.n(s),c=function(){},u=c;function l(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];u.apply(void 0,[t].concat(n))}}var d=n("beea"),f=l("Decorator mounted: ");function h(t,e){return function(n,r,i){f("debounce, target:".concat(n.constructor.name,", propertyName:").concat(r));var s=i.value;return i.value=a.a.debounce(s,t,e),i}}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(e,n,r){f("Interval, target:".concat(e.constructor.name,", propertyName:").concat(n));var i=r.value;r.value=function(){for(var r=this,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];if("undefined"===typeof this.timer_||"undefined"===typeof this.timer_.length)throw new Error("You should mixin TimerMixin to your component");i.apply(this,s),this.timer_.push(setInterval((function(){f("".concat(e.constructor.name,".").concat(n," called.")),i.apply(r,s)}),t))},u("mounted interval")}}function v(t,e,n){f("Debuglogging, target:".concat(t.constructor.name,", propertyName:").concat(e));var r=n.value;n.value=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=n.map((function(t){return JSON.stringify(t)})).join(),s=r.apply(this,n),o=JSON.stringify(s);return u("Call: ".concat(e,"(").concat(a,") => ").concat(o)),s}}function m(t,e,n){f("WebSocketRequest, target:".concat(t.constructor.name,", propertyName:").concat(e));var r=n.value;n.value=function(){if(this.$socket.connected){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.apply(this,e)}alert("WebSocket服务未启动，请等待服务启动后提交\nWebSocket服务启动标志未:\n右上角显示在线人数")}}function b(t){return function(e,n,i){f("Lock, target:".concat(e.constructor.name,", propertyName:").concat(n));var a=i.value;i.value=Object(r["a"])(regeneratorRuntime.mark((function e(){var n,r,i,s,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.acquireAsync();case 2:for(n=o.length,r=new Array(n),i=0;i<n;i++)r[i]=o[i];return s=a.apply(this,r),t.release(),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e,this)})))}}function y(t,e,n){f("ErrorAlert, target:".concat(t.constructor.name,", propertyName:").concat(e));var r=n.value;n.value=function(){try{for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.apply(this,e)}catch(i){alert(i.message)}}}function g(t,e,n){f("RunOnceEachKey, target:".concat(t.constructor.name,", propertyName:").concat(e));var r=n.value,i={};n.value=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=o()(Object(d["b"])(e));if(!i[a])return i[a]=!0,r.apply(this,e)}}},6062:function(t,e,n){"use strict";var r=n("6d61"),i=n("6566");t.exports=r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},6566:function(t,e,n){"use strict";var r=n("9bf2").f,i=n("7c73"),a=n("e2cc"),s=n("0366"),o=n("19aa"),c=n("2266"),u=n("7dd0"),l=n("2626"),d=n("83ab"),f=n("f183").fastKey,h=n("69f3"),p=h.set,v=h.getterFor;t.exports={getConstructor:function(t,e,n,u){var l=t((function(t,r){o(t,l,e),p(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),d||(t.size=0),void 0!=r&&c(r,t[u],t,n)})),h=v(e),m=function(t,e,n){var r,i,a=h(t),s=b(t,e);return s?s.value=n:(a.last=s={index:i=f(e,!0),key:e,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=s),r&&(r.next=s),d?a.size++:t.size++,"F"!==i&&(a.index[i]=s)),t},b=function(t,e){var n,r=h(t),i=f(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return a(l.prototype,{clear:function(){var t=this,e=h(t),n=e.index,r=e.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;e.first=e.last=void 0,d?e.size=0:t.size=0},delete:function(t){var e=this,n=h(e),r=b(e,t);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first==r&&(n.first=i),n.last==r&&(n.last=a),d?n.size--:e.size--}return!!r},forEach:function(t){var e,n=h(this),r=s(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:n.first){r(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!b(this,t)}}),a(l.prototype,n?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return m(this,0===t?0:t,e)}}:{add:function(t){return m(this,t=0===t?0:t,t)}}),d&&r(l.prototype,"size",{get:function(){return h(this).size}}),l},setStrong:function(t,e,n){var r=e+" Iterator",i=v(e),a=v(r);u(t,e,(function(t,e){p(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){var t=a(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(e)}}},6821:function(t,e,n){(function(){var e=n("00d8"),r=n("9a63").utf8,i=n("044b"),a=n("9a63").bin,s=function(t,n){t.constructor==String?t=n&&"binary"===n.encoding?a.stringToBytes(t):r.stringToBytes(t):i(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var o=e.bytesToWords(t),c=8*t.length,u=1732584193,l=-271733879,d=-1732584194,f=271733878,h=0;h<o.length;h++)o[h]=16711935&(o[h]<<8|o[h]>>>24)|4278255360&(o[h]<<24|o[h]>>>8);o[c>>>5]|=128<<c%32,o[14+(c+64>>>9<<4)]=c;var p=s._ff,v=s._gg,m=s._hh,b=s._ii;for(h=0;h<o.length;h+=16){var y=u,g=l,_=d,w=f;u=p(u,l,d,f,o[h+0],7,-680876936),f=p(f,u,l,d,o[h+1],12,-389564586),d=p(d,f,u,l,o[h+2],17,606105819),l=p(l,d,f,u,o[h+3],22,-1044525330),u=p(u,l,d,f,o[h+4],7,-176418897),f=p(f,u,l,d,o[h+5],12,1200080426),d=p(d,f,u,l,o[h+6],17,-1473231341),l=p(l,d,f,u,o[h+7],22,-45705983),u=p(u,l,d,f,o[h+8],7,1770035416),f=p(f,u,l,d,o[h+9],12,-1958414417),d=p(d,f,u,l,o[h+10],17,-42063),l=p(l,d,f,u,o[h+11],22,-1990404162),u=p(u,l,d,f,o[h+12],7,1804603682),f=p(f,u,l,d,o[h+13],12,-40341101),d=p(d,f,u,l,o[h+14],17,-1502002290),l=p(l,d,f,u,o[h+15],22,1236535329),u=v(u,l,d,f,o[h+1],5,-165796510),f=v(f,u,l,d,o[h+6],9,-1069501632),d=v(d,f,u,l,o[h+11],14,643717713),l=v(l,d,f,u,o[h+0],20,-373897302),u=v(u,l,d,f,o[h+5],5,-701558691),f=v(f,u,l,d,o[h+10],9,38016083),d=v(d,f,u,l,o[h+15],14,-660478335),l=v(l,d,f,u,o[h+4],20,-405537848),u=v(u,l,d,f,o[h+9],5,568446438),f=v(f,u,l,d,o[h+14],9,-1019803690),d=v(d,f,u,l,o[h+3],14,-187363961),l=v(l,d,f,u,o[h+8],20,1163531501),u=v(u,l,d,f,o[h+13],5,-1444681467),f=v(f,u,l,d,o[h+2],9,-51403784),d=v(d,f,u,l,o[h+7],14,1735328473),l=v(l,d,f,u,o[h+12],20,-1926607734),u=m(u,l,d,f,o[h+5],4,-378558),f=m(f,u,l,d,o[h+8],11,-2022574463),d=m(d,f,u,l,o[h+11],16,1839030562),l=m(l,d,f,u,o[h+14],23,-35309556),u=m(u,l,d,f,o[h+1],4,-1530992060),f=m(f,u,l,d,o[h+4],11,1272893353),d=m(d,f,u,l,o[h+7],16,-155497632),l=m(l,d,f,u,o[h+10],23,-1094730640),u=m(u,l,d,f,o[h+13],4,681279174),f=m(f,u,l,d,o[h+0],11,-358537222),d=m(d,f,u,l,o[h+3],16,-722521979),l=m(l,d,f,u,o[h+6],23,76029189),u=m(u,l,d,f,o[h+9],4,-640364487),f=m(f,u,l,d,o[h+12],11,-421815835),d=m(d,f,u,l,o[h+15],16,530742520),l=m(l,d,f,u,o[h+2],23,-995338651),u=b(u,l,d,f,o[h+0],6,-198630844),f=b(f,u,l,d,o[h+7],10,1126891415),d=b(d,f,u,l,o[h+14],15,-1416354905),l=b(l,d,f,u,o[h+5],21,-57434055),u=b(u,l,d,f,o[h+12],6,1700485571),f=b(f,u,l,d,o[h+3],10,-1894986606),d=b(d,f,u,l,o[h+10],15,-1051523),l=b(l,d,f,u,o[h+1],21,-2054922799),u=b(u,l,d,f,o[h+8],6,1873313359),f=b(f,u,l,d,o[h+15],10,-30611744),d=b(d,f,u,l,o[h+6],15,-1560198380),l=b(l,d,f,u,o[h+13],21,1309151649),u=b(u,l,d,f,o[h+4],6,-145523070),f=b(f,u,l,d,o[h+11],10,-1120210379),d=b(d,f,u,l,o[h+2],15,718787259),l=b(l,d,f,u,o[h+9],21,-343485551),u=u+y>>>0,l=l+g>>>0,d=d+_>>>0,f=f+w>>>0}return e.endian([u,l,d,f])};s._ff=function(t,e,n,r,i,a,s){var o=t+(e&n|~e&r)+(i>>>0)+s;return(o<<a|o>>>32-a)+e},s._gg=function(t,e,n,r,i,a,s){var o=t+(e&r|n&~r)+(i>>>0)+s;return(o<<a|o>>>32-a)+e},s._hh=function(t,e,n,r,i,a,s){var o=t+(e^n^r)+(i>>>0)+s;return(o<<a|o>>>32-a)+e},s._ii=function(t,e,n,r,i,a,s){var o=t+(n^(e|~r))+(i>>>0)+s;return(o<<a|o>>>32-a)+e},s._blocksize=16,s._digestsize=16,t.exports=function(t,n){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var r=e.wordsToBytes(s(t,n));return n&&n.asBytes?r:n&&n.asString?a.bytesToString(r):e.bytesToHex(r)}})()},"6b75":function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},"6d61":function(t,e,n){"use strict";var r=n("23e7"),i=n("da84"),a=n("94ca"),s=n("6eeb"),o=n("f183"),c=n("2266"),u=n("19aa"),l=n("861d"),d=n("d039"),f=n("1c7e"),h=n("d44e"),p=n("7156");t.exports=function(t,e,n){var v=-1!==t.indexOf("Map"),m=-1!==t.indexOf("Weak"),b=v?"set":"add",y=i[t],g=y&&y.prototype,_=y,w={},k=function(t){var e=g[t];s(g,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!l(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(a(t,"function"!=typeof y||!(m||g.forEach&&!d((function(){(new y).entries().next()})))))_=n.getConstructor(e,t,v,b),o.REQUIRED=!0;else if(a(t,!0)){var x=new _,S=x[b](m?{}:-0,1)!=x,j=d((function(){x.has(1)})),O=f((function(t){new y(t)})),T=!m&&d((function(){var t=new y,e=5;while(e--)t[b](e,e);return!t.has(-0)}));O||(_=e((function(e,n){u(e,_,t);var r=p(new y,e,_);return void 0!=n&&c(n,r[b],r,v),r})),_.prototype=g,g.constructor=_),(j||T)&&(k("delete"),k("has"),v&&k("get")),(T||S)&&k(b),m&&g.clear&&delete g.clear}return w[t]=_,r({global:!0,forced:_!=y},w),h(_,t),m||n.setStrong(_,t,v),_}},"6f53":function(t,e,n){var r=n("83ab"),i=n("df75"),a=n("fc6a"),s=n("d1e7").f,o=function(t){return function(e){var n,o=a(e),c=i(o),u=c.length,l=0,d=[];while(u>l)n=c[l++],r&&!s.call(o,n)||d.push(t?[n,o[n]]:o[n]);return d}};t.exports={entries:o(!0),values:o(!1)}},"9a63":function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},a630:function(t,e,n){var r=n("23e7"),i=n("4df4"),a=n("1c7e"),s=!a((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:s},{from:i})},abd5:function(t,e,n){"use strict";var r=n("e5bd"),i=n.n(r);i.a},b65f:function(t,e,n){var r=n("23e7"),i=Math.ceil,a=Math.floor;r({target:"Math",stat:!0},{trunc:function(t){return(t>0?a:i)(t)}})},b85c:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");var r=n("06c5");function i(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Object(r["a"])(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){c=!0,s=t},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(c)throw s}}}}},bb2f:function(t,e,n){var r=n("d039");t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},e5bd:function(t,e,n){},f183:function(t,e,n){var r=n("d012"),i=n("861d"),a=n("5135"),s=n("9bf2").f,o=n("90e3"),c=n("bb2f"),u=o("meta"),l=0,d=Object.isExtensible||function(){return!0},f=function(t){s(t,u,{value:{objectID:"O"+ ++l,weakData:{}}})},h=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,u)){if(!d(t))return"F";if(!e)return"E";f(t)}return t[u].objectID},p=function(t,e){if(!a(t,u)){if(!d(t))return!0;if(!e)return!1;f(t)}return t[u].weakData},v=function(t){return c&&m.REQUIRED&&d(t)&&!a(t,u)&&f(t),t},m=t.exports={REQUIRED:!1,fastKey:h,getWeakData:p,onFreeze:v};r[u]=!0},fa82:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r{constructor(){this._acquired=!1,this._waitingResolvers=[]}acquireAsync(){return this._acquired?new Promise(t=>{this._waitingResolvers.push(t)}):(this._acquired=!0,Promise.resolve())}tryAcquire(){return!this._acquired&&(this._acquired=!0,!0)}release(){if(!this._acquired)throw new Error("Cannot release an unacquired lock");if(this._waitingResolvers.length>0){let t=this._waitingResolvers.shift();t()}else this._acquired=!1}}e.default=r},fb61:function(t,e,n){}}]);