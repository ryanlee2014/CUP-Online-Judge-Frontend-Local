(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d0803"],{"67f2":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"ui container padding"},[e("h2",{staticClass:"ui dividing header"},[t._v(t._s(t.$t("contest assistant manage")))]),e("div",{staticClass:"ui form"},[e("div",{staticClass:"field"},[e("div",{staticClass:"two fields"},[e("div",{staticClass:"field"},[e("label",[t._v(t._s(t.$t("user_id")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userId,expression:"userId"}],attrs:{type:"text"},domProps:{value:t.userId},on:{input:function(s){s.target.composing||(t.userId=s.target.value)}}})]),e("div",{staticClass:"field"},[e("label",[t._v(t._s(t.$t("contest")))]),e("div",{staticClass:"ui fluid search dropdown selection",attrs:{id:"privilege"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.contestId,expression:"contestId"}],attrs:{type:"hidden"},domProps:{value:t.contestId},on:{change:function(s){t.contestId=s.target.value},input:function(s){s.target.composing||(t.contestId=s.target.value)}}}),e("i",{staticClass:"dropdown icon"}),e("div",{staticClass:"default text"}),e("div",{staticClass:"menu"},t._l(t.contestList,(function(s,i){return e("div",{key:i,staticClass:"item",attrs:{"data-value":s.contest_id}},[t._v(" "+t._s("Contest"+s.contest_id+" "+s.title)+" ")])})),0)])])])]),e("div",{staticClass:"field"},[e("div",{staticClass:"two fields"},[e("div",{staticClass:"field"}),e("div",{staticClass:"field"},[e("a",{staticClass:"ui primary button",on:{click:t.addPrivilege}},[t._v(t._s(t.$t("add")))])])])])]),e("table",{staticClass:"ui celled structured table"},[e("thead",[e("tr",[e("th",[t._v(t._s(t.$t("user_id")))]),e("th",[t._v(t._s(t.$t("contest_id")))]),e("th",[t._v(t._s(t.$t("remove")))])])]),e("tbody",t._l(t.assistantList,(function(s,i){return e("tr",{key:i},[e("td",[t._v(t._s(s.user_id))]),e("td",[t._v(t._s(s.contest_id))]),e("td",[e("a",{staticClass:"ui labeled icon black button",on:{click:function(e){return t.removePrivilege(s.user_id,s.contest_id)}}},[e("i",{staticClass:"trash icon"}),t._v(" "+t._s(t.$t("remove"))+" ")])])])})),0)])])},a=[],n=e("d4ec"),d=e("bee2"),c=e("262e"),r=e("2caf"),o=e("9ab4"),l=e("1b40"),u=e("2cd4"),v=function(t){Object(c["a"])(e,t);var s=Object(r["a"])(e);function e(){var t;return Object(n["a"])(this,e),t=s.apply(this,arguments),t.userId="",t.contestId="",t.contestList=[],t.assistantList=[],t}return Object(d["a"])(e,[{key:"mounted",value:function(){var t=this;this.refreshAssistantList(),this.axios.get("/api/contest/list/all").then((function(s){var e=s.data;t.contestList=e.data}))}},{key:"buildPayload",value:function(){return{contestId:this.contestId,userId:this.userId}}},{key:"refreshAssistantList",value:function(){var t=this;return this.axios.get("/api/admin/contest/assistant/all").then((function(s){var e=s.data;t.assistantList=e.data}))}},{key:"checkData",value:function(){return 0===this.userId.length?(alert("请填写用户"),!1):0!==this.contestId.length||(alert("请选择竞赛"),!1)}},{key:"addPrivilege",value:function(){var t=this;this.checkData()&&this.axios.post("/api/admin/contest/assistant",this.buildPayload()).then((function(s){s.data;return alert("添加完成"),t.refreshAssistantList()}))}},{key:"removePrivilege",value:function(t,s){var e=this;this.axios.post("/api/admin/contest/assistant/remove",{contestId:s,userId:t}).then((function(t){t.data;return alert("删除完成"),e.refreshAssistantList()}))}}]),e}(Object(l["b"])(u["a"]));v=Object(o["a"])([l["a"]],v);var h=v,f=h,_=e("2877"),p=Object(_["a"])(f,i,a,!1,null,"395f9e02",null);s["default"]=p.exports}}]);