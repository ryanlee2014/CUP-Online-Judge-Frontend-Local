(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c115e6ae"],{9513:function(t,a,e){"use strict";var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"ui pagination menu",staticStyle:{"box-shadow":"none"}},[e("a",{class:"icon item "+(t.current_page?"":"disabled"),on:{click:function(a){t.current_page&&t.page(a,-t.current_page)}}},[e("i",{staticClass:"angle double left icon"})]),e("a",{class:"icon item "+(t.current_page?"":"disabled"),on:{click:function(a){t.current_page&&t.page(a,-1)}}},[e("i",{staticClass:"left chevron icon"})]),t._l(t.pageList,(function(a){return e("div",{key:a},[e("a",{class:(t.current_page+1==a?"active":"")+" item page",on:{click:function(a){return t.page(a)}}},[t._v(" "+t._s(a)+" ")])])})),e("a",{class:"icon item "+(t.current_page+1==Math.ceil(t.total/t.page_cnt)?"disabled":""),on:{click:function(a){t.current_page+1<Math.ceil(t.total/t.page_cnt)&&t.page(a,1)}}},[e("i",{staticClass:"right chevron icon"})]),e("a",{class:"icon item "+(t.current_page+1==Math.ceil(t.total/t.page_cnt)?"disabled":""),on:{click:function(a){t.current_page+1<Math.ceil(t.total/t.page_cnt)&&t.page(a,Math.ceil(t.total/t.page_cnt)-1-t.current_page)}}},[e("i",{staticClass:"angle double right icon"})])],2)},n=[],i=(e("ddb0"),e("9ab4")),s=e("1157"),c=e.n(s),o=e("1b40"),u=e("2b0e");c.a;let l=class extends u["a"]{constructor(){super(...arguments),this.total_menu=0}created(){let t=document.body.clientWidth;const a=1100;t>1127&&(t=a),this.total_menu=Math.max(0,Math.trunc(.7*t/42)-4)}get pageList(){const{current_page:t,page_cnt:a,total:e,total_menu:r}=this,n=Array.from(Array(Math.min(Math.ceil(e/a),r)).keys()).map((function(n){return t<r/2?Math.trunc(n+1):t+r/2+1>Math.ceil(e/a)?Math.trunc(Math.ceil(e/a)-r+1+n):Math.trunc(t+n-r/2+1)}));return this.$emit("pageUpdated",n),n}page(t,a){a?this.onPageChanged(null,a):this.onPageChanged(parseInt(t.target.innerText)-1)}};Object(i["a"])([Object(o["c"])()],l.prototype,"total",void 0),Object(i["a"])([Object(o["c"])()],l.prototype,"page_cnt",void 0),Object(i["a"])([Object(o["c"])()],l.prototype,"current_page",void 0),Object(i["a"])([Object(o["c"])()],l.prototype,"onPageChanged",void 0),l=Object(i["a"])([o["a"]],l);var d=l,p=d,_=e("2877"),h=Object(_["a"])(p,r,n,!1,null,"68aad065",null);a["a"]=h.exports},d76a:function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"ui container padding"},[e("div",{staticClass:"ui grid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"thirteen wide column"},[e("Pagination",{attrs:{current_page:t.current_page,page_cnt:t.page_cnt,total:t.total_number,"on-page-changed":t.page}})],1),e("div",{staticClass:"three wide right aligned column"},[e("router-link",{staticClass:"ui primary button",attrs:{to:"/admin/user/award/add"}},[t._v(" "+t._s(t.$t("add award"))+" ")])],1)])]),e("table",{staticClass:"ui celled structured table"},[e("thead",[e("tr",[e("th",[t._v(t._s(t.$t("award_id")))]),e("th",[t._v(t._s(t.$t("user_id")))]),e("th",[t._v(t._s(t.$t("award")))]),e("th",[t._v(t._s(t.$t("year")))]),e("th",[t._v(t._s(t.$t("operate")))])])]),e("tbody",t._l(t.list,(function(a){return e("tr",{key:a.award_id},[e("td",[t._v(" "+t._s(a.award_id)+" ")]),e("td",[e("router-link",{attrs:{to:"/user/"+a.user_id}},[t._v(" "+t._s(a.user_id)+" ")])],1),e("td",[t._v(" "+t._s(a.award)+" ")]),e("td",[t._v(" "+t._s(a.year)+" ")]),e("td",[e("router-link",{staticClass:"ui primary button",attrs:{to:"/admin/user/award/edit/"+a.award_id}},[t._v(" "+t._s(t.$t("edit"))+" ")]),e("a",{staticClass:"ui button",on:{click:function(e){return e.preventDefault(),t.removeAward(a.award_id)}}},[t._v(" "+t._s(t.$t("remove"))+" ")])],1)])})),0)])])},n=[],i=(e("ddb0"),e("9ab4")),s=e("2cd4"),c=e("1b40"),o=e("5a0c"),u=e.n(o),l=e("9513");let d=class extends(Object(c["b"])(s["a"])){constructor(){super(...arguments),this.list=[],this.dayjs=u.a,this.page_cnt=50,this.total_number=0,this.current_page=0}created(){const t=this.$route.query;let a;Object.hasOwnProperty.call(t,"page")&&(a=parseInt(t.page)),isNaN(a)||(this.current_page=a)}onCurrentPageChanged(t){this.setQuery(),this.flushData(t)}mounted(){this.flushData(this.current_page)}setQuery(){const t={};t.page=this.current_page,this.$router.push({path:this.$route.path,query:t})}page(t,a){this.current_page=a?this.current_page+a:t}flushData(t){return this.axios.get("/api/admin/award/list/"+t).then(({data:t})=>{this.list=t.data.data,this.total_number=t.data.count}),!0}removeAward(t){window.confirm(`是否删除记录${t}?`)&&this.axios.post("/api/admin/award/remove/"+t).then(({data:t})=>{alert(this.$t("success")),this.flushData(this.current_page)})}};Object(i["a"])([Object(c["d"])("current_page")],d.prototype,"onCurrentPageChanged",null),d=Object(i["a"])([Object(c["a"])({components:{Pagination:l["a"]}})],d);var p=d,_=p,h=e("2877"),g=Object(h["a"])(_,r,n,!1,null,"f33ee038",null);a["default"]=g.exports}}]);