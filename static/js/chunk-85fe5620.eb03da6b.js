(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-85fe5620"],{"21a6":function(t,e,n){(function(n){var i,s,a;(function(n,o){s=[],i=o,a="function"===typeof i?i.apply(e,s):i,void 0===a||(t.exports=a)})(0,(function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function i(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){r(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function s(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function a(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(i){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,c=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),r=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(t,e,n){var c=o.URL||o.webkitURL,r=document.createElement("a");e=e||t.name||"download",r.download=e,r.rel="noopener","string"==typeof t?(r.href=t,r.origin===location.origin?a(r):s(r.href)?i(t,e,n):a(r,r.target="_blank")):(r.href=c.createObjectURL(t),setTimeout((function(){c.revokeObjectURL(r.href)}),4e4),setTimeout((function(){a(r)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,o){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,o),n);else if(s(t))i(t,n,o);else{var c=document.createElement("a");c.href=t,c.target="_blank",setTimeout((function(){a(c)}))}}:function(t,e,n,s){if(s=s||open("","_blank"),s&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof t)return i(t,e,n);var a="application/octet-stream"===t.type,r=/constructor/i.test(o.HTMLElement)||o.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&r||c)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=t:location=t,s=null},u.readAsDataURL(t)}else{var d=o.URL||o.webkitURL,p=d.createObjectURL(t);s?s.location=p:location.href=p,s=null,setTimeout((function(){d.revokeObjectURL(p)}),4e4)}});o.saveAs=r.saveAs=r,t.exports=r}))}).call(this,n("c8ba"))},dd5b:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui container padding"},[n("h2",{staticClass:"ui dividing header"},[t._v(t._s(t.$t("contest account generate")))]),n("div",{staticClass:"ui grid"},[n("div",{staticClass:"row"},[n("div",{staticClass:"eight wide column"},[n("div",{staticClass:"ui form"},[n("div",{staticClass:"field"},[n("div",{directives:[{name:"show",rawName:"v-show",value:0===t.resultNickList.length,expression:"resultNickList.length === 0"}],staticClass:"two fields"},[n("div",{staticClass:"field"},[n("label",[t._v(t._s(t.$t("account prefix")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.prefix,expression:"prefix"}],attrs:{type:"text"},domProps:{value:t.prefix},on:{input:function(e){e.target.composing||(t.prefix=e.target.value)}}})]),n("div",{staticClass:"field"},[n("label",[t._v(t._s(t.$t("count")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.num,expression:"num"}],attrs:{type:"text",placeholder:"number only"},domProps:{value:t.num},on:{input:function(e){e.target.composing||(t.num=e.target.value)}}})])]),n("div",{directives:[{name:"show",rawName:"v-show",value:0===t.resultNickList.length,expression:"resultNickList.length === 0"}],staticClass:"field"},[n("label",[t._v(t._s(t.$t("contest account nick")))]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.nickListText,expression:"nickListText"}],attrs:{type:"text"},domProps:{value:t.nickListText},on:{input:function(e){e.target.composing||(t.nickListText=e.target.value)}}})]),n("div",{staticClass:"field"},[n("div",{staticClass:"three fields"},[n("div",{directives:[{name:"show",rawName:"v-show",value:0===t.resultNickList.length,expression:"resultNickList.length === 0"}],staticClass:"field"},[n("a",{staticClass:"ui primary button",on:{click:function(e){return e.preventDefault(),t.generateAccount(e)}}},[t._v(t._s(t.$t("add")))])]),n("div",{staticClass:"field"},[n("a",{staticClass:"ui button",on:{click:function(e){return e.preventDefault(),t.refresh(e)}}},[t._v(t._s(t.$t("refresh page")))])]),n("div",{staticClass:"field"},[n("a",{staticClass:"ui primary button",on:{click:function(e){return e.preventDefault(),t.exportXLS(e)}}},[t._v(t._s(t.$t("保存表格")))])])])])])])]),n("div",{staticClass:"eight wide column"},[n("table",{staticClass:"ui celled structured table",attrs:{id:"save"}},[n("thead",[n("tr",[n("th",[t._v(t._s(t.$t("user_id")))]),n("th",[t._v(t._s(t.$t("nick")))]),n("th",[t._v(t._s(t.$t("password")))])])]),n("tbody",t._l(t.resultNickList.length>0?t.resultNickList:t.nickList,(function(e,i){return n("tr",{key:i},[n("td",[t._v(t._s(e.userId))]),n("td",[t._v(t._s(e.nick))]),n("td",[t._v(t._s(e.password))])])})),0)])])])])])},s=[],a=(n("5319"),n("ddb0"),n("9ab4")),o=n("1b40"),c=n("2cd4"),r=n("21a6");let l=class extends(Object(o["b"])(c["a"])){constructor(){super(...arguments),this.prefix="",this.num=0,this.nickListText="",this.nickList=[],this.resultNickList=[]}onNickListTextChanged(t){const e=t.trim().split("\n").map(t=>t.trim()),n=[],i=(""+this.num).length;for(let s=0;s<this.num;++s){const t=`${this.prefix}${(""+s).padStart(i,"0")}`;n.push({userId:t,nick:s<e.length?e[s]:"",password:""})}this.nickList=n}generateAccount(){const t=this.prefix.trim(),e=parseInt(this.num),n=this.nickListText.trim().split("\n").map(t=>t.trim());this.axios.post("/api/admin/account/generate/batch",{prefix:t,num:e,nickList:n}).then(({data:t})=>{this.resultNickList=t.data.accountList,alert("创建成功，将自动触发Excel表格下载\n建议验证账号，在菜单栏[用户管理] => [账号验证]验证账号是否有效"),this.$nextTick(()=>{this.exportXLS()})}).catch(({data:t})=>{alert(t.statement)})}exportXLS(){const t=document.getElementById("save");let e='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta http-equiv=\'Content-Type\' content=\'application/vnd.ms-excel; charset=utf-8\' /></head>';e+="<table border=1>"+t.innerHTML.replace("<tbody>","").replace("</tbody>",""),e+="</table></html>";const n=new Blob([e],{type:"application/vnd.ms-excel;charset=UTF-8;"});Object(r["saveAs"])(n,this.$t("contest account generate")+".xls")}refresh(){location.reload()}};Object(a["a"])([Object(o["d"])("nickListText")],l.prototype,"onNickListTextChanged",null),l=Object(a["a"])([o["a"]],l);var u=l,d=u,p=n("2877"),f=Object(p["a"])(d,i,s,!1,null,"8bc3219e",null);e["default"]=f.exports}}]);