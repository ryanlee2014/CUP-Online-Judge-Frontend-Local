(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04f5a047"],{"4df4":function(t,a,e){"use strict";var n=e("0366"),r=e("7b0b"),c=e("9bdd"),i=e("e95a"),s=e("50c4"),o=e("8418"),u=e("35a1");t.exports=function(t){var a,e,l,d,p,h,g=r(t),_="function"==typeof this?this:Array,v=arguments.length,f=v>1?arguments[1]:void 0,b=void 0!==f,y=u(g),m=0;if(b&&(f=n(f,v>2?arguments[2]:void 0,2)),void 0==y||_==Array&&i(y))for(a=s(g.length),e=new _(a);a>m;m++)h=b?f(g[m],m):g[m],o(e,m,h);else for(d=y.call(g),p=d.next,e=new _;!(l=p.call(d)).done;m++)h=b?c(d,f,[l.value,m],!0):l.value,o(e,m,h);return e.length=m,e}},9513:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"ui pagination menu",staticStyle:{"box-shadow":"none"}},[e("a",{class:"icon item "+(t.current_page?"":"disabled"),on:{click:function(a){t.current_page&&t.page(a,-t.current_page)}}},[e("i",{staticClass:"angle double left icon"})]),e("a",{class:"icon item "+(t.current_page?"":"disabled"),on:{click:function(a){t.current_page&&t.page(a,-1)}}},[e("i",{staticClass:"left chevron icon"})]),t._l(t.pageList,(function(a){return e("div",{key:a},[e("a",{class:(t.current_page+1==a?"active":"")+" item page",on:{click:function(a){return t.page(a)}}},[t._v(" "+t._s(a)+" ")])])})),e("a",{class:"icon item "+(t.current_page+1==Math.ceil(t.total/t.page_cnt)?"disabled":""),on:{click:function(a){t.current_page+1<Math.ceil(t.total/t.page_cnt)&&t.page(a,1)}}},[e("i",{staticClass:"right chevron icon"})]),e("a",{class:"icon item "+(t.current_page+1==Math.ceil(t.total/t.page_cnt)?"disabled":""),on:{click:function(a){t.current_page+1<Math.ceil(t.total/t.page_cnt)&&t.page(a,Math.ceil(t.total/t.page_cnt)-1-t.current_page)}}},[e("i",{staticClass:"angle double right icon"})])],2)},r=[],c=(e("a630"),e("d81d"),e("b65f"),e("d3b7"),e("3ca3"),e("ddb0"),e("d4ec")),i=e("bee2"),s=e("262e"),o=e("2caf"),u=e("9ab4"),l=e("1157"),d=e.n(l),p=e("1b40"),h=e("2b0e"),g=(d.a,function(t){Object(s["a"])(e,t);var a=Object(o["a"])(e);function e(){var t;return Object(c["a"])(this,e),t=a.apply(this,arguments),t.total_menu=0,t}return Object(i["a"])(e,[{key:"created",value:function(){var t=document.body.clientWidth,a=1100;t>1127&&(t=a),this.total_menu=Math.max(0,Math.trunc(.7*t/42)-4)}},{key:"page",value:function(t,a){a?this.onPageChanged(null,a):this.onPageChanged(parseInt(t.target.innerText)-1)}},{key:"pageList",get:function(){var t=this.current_page,a=this.page_cnt,e=this.total,n=this.total_menu,r=Array.from(Array(Math.min(Math.ceil(e/a),n)).keys()).map((function(r){return t<n/2?Math.trunc(r+1):t+n/2+1>Math.ceil(e/a)?Math.trunc(Math.ceil(e/a)-n+1+r):Math.trunc(t+r-n/2+1)}));return this.$emit("pageUpdated",r),r}}]),e}(h["a"]));Object(u["a"])([Object(p["c"])()],g.prototype,"total",void 0),Object(u["a"])([Object(p["c"])()],g.prototype,"page_cnt",void 0),Object(u["a"])([Object(p["c"])()],g.prototype,"current_page",void 0),Object(u["a"])([Object(p["c"])()],g.prototype,"onPageChanged",void 0),g=Object(u["a"])([p["a"]],g);var _=g,v=_,f=e("2877"),b=Object(f["a"])(v,n,r,!1,null,"68aad065",null);a["a"]=b.exports},"9bdd":function(t,a,e){var n=e("825a"),r=e("2a62");t.exports=function(t,a,e,c){try{return c?a(n(e)[0],e[1]):a(e)}catch(i){throw r(t),i}}},a630:function(t,a,e){var n=e("23e7"),r=e("4df4"),c=e("1c7e"),i=!c((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:i},{from:r})},b65f:function(t,a,e){var n=e("23e7"),r=Math.ceil,c=Math.floor;n({target:"Math",stat:!0},{trunc:function(t){return(t>0?c:r)(t)}})},d76a:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"ui container padding"},[e("div",{staticClass:"ui grid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"thirteen wide column"},[e("Pagination",{attrs:{current_page:t.current_page,page_cnt:t.page_cnt,total:t.total_number,"on-page-changed":t.page}})],1),e("div",{staticClass:"three wide right aligned column"},[e("router-link",{staticClass:"ui primary button",attrs:{to:"/admin/user/award/add"}},[t._v(" "+t._s(t.$t("add award"))+" ")])],1)])]),e("table",{staticClass:"ui celled structured table"},[e("thead",[e("tr",[e("th",[t._v(t._s(t.$t("award_id")))]),e("th",[t._v(t._s(t.$t("user_id")))]),e("th",[t._v(t._s(t.$t("award")))]),e("th",[t._v(t._s(t.$t("year")))]),e("th",[t._v(t._s(t.$t("operate")))])])]),e("tbody",t._l(t.list,(function(a){return e("tr",{key:a.award_id},[e("td",[t._v(" "+t._s(a.award_id)+" ")]),e("td",[e("router-link",{attrs:{to:"/user/"+a.user_id}},[t._v(" "+t._s(a.user_id)+" ")])],1),e("td",[t._v(" "+t._s(a.award)+" ")]),e("td",[t._v(" "+t._s(a.year)+" ")]),e("td",[e("router-link",{staticClass:"ui primary button",attrs:{to:"/admin/user/award/edit/"+a.award_id}},[t._v(" "+t._s(t.$t("edit"))+" ")]),e("a",{staticClass:"ui button",on:{click:function(e){return e.preventDefault(),t.removeAward(a.award_id)}}},[t._v(" "+t._s(t.$t("remove"))+" ")])],1)])})),0)])])},r=[],c=e("d4ec"),i=e("bee2"),s=e("262e"),o=e("2caf"),u=e("9ab4"),l=e("2cd4"),d=e("1b40"),p=e("5a0c"),h=e.n(p),g=e("9513"),_=function(t){Object(s["a"])(e,t);var a=Object(o["a"])(e);function e(){var t;return Object(c["a"])(this,e),t=a.apply(this,arguments),t.list=[],t.dayjs=h.a,t.page_cnt=50,t.total_number=0,t.current_page=0,t}return Object(i["a"])(e,[{key:"created",value:function(){var t,a=this.$route.query;Object.hasOwnProperty.call(a,"page")&&(t=parseInt(a.page)),isNaN(t)||(this.current_page=t)}},{key:"onCurrentPageChanged",value:function(t){this.setQuery(),this.flushData(t)}},{key:"mounted",value:function(){this.flushData(this.current_page)}},{key:"setQuery",value:function(){var t={};t.page=this.current_page,this.$router.push({path:this.$route.path,query:t})}},{key:"page",value:function(t,a){this.current_page=a?this.current_page+a:t}},{key:"flushData",value:function(t){var a=this;return this.axios.get("/api/admin/award/list/".concat(t)).then((function(t){var e=t.data;a.list=e.data.data,a.total_number=e.data.count})),!0}},{key:"removeAward",value:function(t){var a=this;window.confirm("是否删除记录".concat(t,"?"))&&this.axios.post("/api/admin/award/remove/".concat(t)).then((function(t){t.data;alert(a.$t("success")),a.flushData(a.current_page)}))}}]),e}(Object(d["b"])(l["a"]));Object(u["a"])([Object(d["d"])("current_page")],_.prototype,"onCurrentPageChanged",null),_=Object(u["a"])([Object(d["a"])({components:{Pagination:g["a"]}})],_);var v=_,f=v,b=e("2877"),y=Object(b["a"])(f,n,r,!1,null,"f33ee038",null);a["default"]=y.exports}}]);