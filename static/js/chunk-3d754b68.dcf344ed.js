(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d754b68"],{"2d28":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"ui container padding"},[s("div",{staticClass:"ui grid"},[s("div",{staticClass:"row"},[s("h2",{staticClass:"ui header"},[t._v(" "+t._s(t.$t("title"))+" ")])]),s("div",{staticClass:"row"},[s("div",{staticClass:"ui input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{size:"50",type:"text"},domProps:{value:t.title},on:{input:function(a){a.target.composing||(t.title=a.target.value)}}})])]),s("div",{staticClass:"row"},[s("h2",{staticClass:"ui header"},[t._v(" "+t._s(t.$t("content"))+" ")])]),s("div",{staticClass:"row"},[s("mavon-editor",{attrs:{markInstance:t.markdownIt},model:{value:t.content,callback:function(a){t.content=a},expression:"content"}})],1),s("div",{staticClass:"row"},[s("div",{staticClass:"two field"},[s("div",{staticClass:"ui left input",staticStyle:{width:"auto"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.captcha,expression:"captcha"}],attrs:{placeholder:t.$t("captcha"),type:"text"},domProps:{value:t.captcha},on:{input:function(a){a.target.composing||(t.captcha=a.target.value)}}}),s("img",{staticClass:"captcha",attrs:{alt:"click to change",height:"40px",onclick:"this.src='/api/captcha?from=newpost&random='+Math.random()",src:"/api/captcha?from=newpost&random="+t.captchaHash}})])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"ui blue labeled submit icon button",on:{click:t.create_post}},[s("i",{staticClass:"icon edit"}),t._v(" "+t._s(t.$t("add"))+" ")])])])])},c=[],i=(s("ddb0"),s("9ab4")),n=s("2cd4"),o=s("60a3"),l=s("ec1c"),r=s("1157"),d=s.n(r),p=s("3185");d.a;let u=class extends(Object(o["b"])(n["a"],p["a"])){constructor(){super(...arguments),this.content="",this.title="",this.captcha="",this.markdownIt=l["a"]}create_post(){const t=this,a={title:this.title,content:this.content,captcha:this.captcha};this.axios.post("/api/discuss/newpost",a).then(({data:a})=>{alert("添加成功!"),t.$router.push({path:"/discuss"})}).catch(({data:t})=>{alert("服务器遇到错误\n"+t.statement)})}mounted(){document.title="Add Thread -- "+document.title}};u=Object(i["c"])([o["a"]],u);var h=u,v=h,m=s("2877"),w=Object(m["a"])(v,e,c,!1,null,"223d8e8e",null);a["default"]=w.exports},3185:function(t,a,s){"use strict";s("ddb0");var e=s("9ab4"),c=s("2b0e"),i=s("60a3");let n=class extends c["a"]{constructor(){super(...arguments),this.captchaHash=Math.random()}};n=Object(e["c"])([i["a"]],n),a["a"]=n}}]);