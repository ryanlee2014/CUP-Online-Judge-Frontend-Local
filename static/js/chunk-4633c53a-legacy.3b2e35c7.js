(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4633c53a"],{"06c5":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("a630"),a("fb6a"),a("b0c0"),a("d3b7"),a("25f0"),a("3ca3");var i=a("6b75");function n(t,e){if(t){if("string"===typeof t)return Object(i["a"])(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(i["a"])(t,e):void 0}}},"4df4":function(t,e,a){"use strict";var i=a("0366"),n=a("7b0b"),s=a("9bdd"),c=a("e95a"),o=a("50c4"),l=a("8418"),r=a("35a1");t.exports=function(t){var e,a,p,d,u,m,v=n(t),f="function"==typeof this?this:Array,h=arguments.length,b=h>1?arguments[1]:void 0,g=void 0!==b,y=r(v),C=0;if(g&&(b=i(b,h>2?arguments[2]:void 0,2)),void 0==y||f==Array&&c(y))for(e=o(v.length),a=new f(e);e>C;C++)m=g?b(v[C],C):v[C],l(a,C,m);else for(d=y.call(v),u=d.next,a=new f;!(p=u.call(d)).done;C++)m=g?s(d,b,[p.value,C],!0):p.value,l(a,C,m);return a.length=C,a}},"6b75":function(t,e,a){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}a.d(e,"a",(function(){return i}))},"986d":function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("4de4"),a("c975");function i(t){return t.filter((function(t,e,a){return a.indexOf(t)===e}))}},a630:function(t,e,a){var i=a("23e7"),n=a("4df4"),s=a("1c7e"),c=!s((function(t){Array.from(t)}));i({target:"Array",stat:!0,forced:c},{from:n})},b85c:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("a4d3"),a("e01a"),a("d28b"),a("d3b7"),a("3ca3"),a("ddb0");var i=a("06c5");function n(t,e){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=Object(i["a"])(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,l=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return o=t.done,t},e:function(t){l=!0,c=t},f:function(){try{o||null==a["return"]||a["return"]()}finally{if(l)throw c}}}}},ba15:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ui container padding"},[a("div",{staticClass:"ui grid"},[a("div",{staticClass:"row"},[a("h2",{staticClass:"ui header"},[t._v(" "+t._s(t.$t("title"))+" ")])]),a("div",{staticClass:"two column row"},[a("div",{staticClass:"column"},[a("div",{staticClass:"ui input",staticStyle:{width:"100%"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})])]),a("div",{staticClass:"column",staticStyle:{"z-index":"1700"}},[a("select",{staticClass:"ui search dropdown label selection",attrs:{multiple:""},on:{change:function(e){t.label=t.select(".label.selection.ui.dropdown").dropdown("get value")}}},t._l(t.all_label,(function(e){return a("option",{key:e,domProps:{value:e,textContent:t._s(e)}})})),0)])]),a("div",{staticClass:"three column row"},[a("div",{staticClass:"column"},[a("div",{staticClass:"ui labeled input"},[a("div",{staticClass:"ui label"},[t._v(" "+t._s(t.$t("time limit"))+" ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.time,expression:"time"}],attrs:{type:"text"},domProps:{value:t.time},on:{input:function(e){e.target.composing||(t.time=e.target.value)}}})])]),a("div",{staticClass:"column"},[a("div",{staticClass:"ui labeled input"},[a("div",{staticClass:"ui label"},[t._v(" "+t._s(t.$t("memory"))+" ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.memory,expression:"memory"}],attrs:{type:"text"},domProps:{value:t.memory},on:{input:function(e){e.target.composing||(t.memory=e.target.value)}}})])]),a("div",{staticClass:"column",staticStyle:{margin:"auto"}},[a("div",{staticClass:"ui toggle checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.spj,expression:"spj"}],attrs:{type:"checkbox"},domProps:{checked:t.spj,checked:Array.isArray(t.spj)?t._i(t.spj,null)>-1:t.spj},on:{change:function(e){var a=t.spj,i=e.target,n=!!i.checked;if(Array.isArray(a)){var s=null,c=t._i(a,s);i.checked?c<0&&(t.spj=a.concat([s])):c>-1&&(t.spj=a.slice(0,c).concat(a.slice(c+1)))}else t.spj=n}}}),a("label",[t._v("Special Judge")])])])]),a("div",{staticClass:"row"},[a("h2",{staticClass:"ui header"},[t._v(" "+t._s(t.$t("description"))+" ")])]),a("div",{staticClass:"row"},[a("mavon-editor",{ref:"description",attrs:{markInstance:t.descriptionInstance},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),a("br"),a("div",{staticClass:"row"},[a("h2",{staticClass:"ui header"},[t._v(" "+t._s(t.$t("input"))+" ")])]),a("div",{staticClass:"row"},[a("mavon-editor",{ref:"input",attrs:{markInstance:t.inputInstance},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1),a("br"),a("div",{staticClass:"row"},[a("h2",{staticClass:"ui header"},[t._v(" "+t._s(t.$t("output"))+" ")])]),a("div",{staticClass:"row"},[a("mavon-editor",{ref:"output",attrs:{markInstance:t.outputInstance},model:{value:t.output,callback:function(e){t.output=e},expression:"output"}})],1),a("br"),a("div",{staticClass:"row"},[a("h2",{staticClass:"ui header"},[t._v(" "+t._s(t.$t("sampleinput"))+" ")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"ui form",staticStyle:{"min-width":"85%"}},[a("div",{staticClass:"field"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.sampleinput,expression:"sampleinput"}],domProps:{value:t.sampleinput},on:{input:function(e){e.target.composing||(t.sampleinput=e.target.value)}}})])])]),a("br"),a("div",{staticClass:"row"},[a("h2",{staticClass:"ui header"},[t._v(" "+t._s(t.$t("sampleoutput"))+" ")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"ui form",staticStyle:{"min-width":"85%"}},[a("div",{staticClass:"field"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.sampleoutput,expression:"sampleoutput"}],domProps:{value:t.sampleoutput},on:{input:function(e){e.target.composing||(t.sampleoutput=e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("h2",{staticClass:"ui header"},[t._v(t._s(t.$t("problem file")))])]),t._m(0),a("div",{staticClass:"row"},[a("h2",{staticClass:"ui header"},[t._v(" "+t._s(t.$t("prepend code"))+" ")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"four wide column"},[a("div",{staticClass:"ui attached vertical fluid pointing menu",staticStyle:{height:"370px","overflow-y":"scroll","overflow-x":"hidden"}},[a("a",{class:0===t.prependSelected?"active item":"item",on:{click:function(e){t.prependSelected=0}}},[t._v("C "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[t._v("GNU C99/C11 LLVM Clang ")])]),a("a",{class:1===t.prependSelected?"active item":"item",on:{click:function(e){t.prependSelected=1}}},[t._v("C++ "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[t._v("GNU C++11/C++89/C++17 LLVM Clang++ ")])]),a("a",{class:2===t.prependSelected?"active item":"item",on:{click:function(e){t.prependSelected=2}}},[t._v("Pascal "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[t._v("fpc Pascal ")])]),a("a",{class:3===t.prependSelected?"active item":"item",on:{click:function(e){t.prependSelected=3}}},[t._v("Java "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[t._v(" openJDK 1.6/1.7/1.8/1.10 ")])]),a("a",{class:16===t.prependSelected?"active item":"item",on:{click:function(e){t.prependSelected=16}}},[t._v("JavaScript "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[t._v(" NodeJS 10.13.0 ")])]),a("a",{class:6===t.prependSelected?"active item":"item",on:{click:function(e){t.prependSelected=6}}},[t._v("Python "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[t._v(" Python 2.7/3.6 PyPy2/3 ")])]),a("a",{class:9===t.prependSelected?"active item":"item",on:{click:function(e){t.prependSelected=9}}},[t._v("C# "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[t._v(" Mono ")])])])]),a("div",{staticClass:"ten wide column"},[a("monaco-editor",{attrs:{selected_language:t.prependSelected},model:{value:t.prepend[t.prependSelected],callback:function(e){t.$set(t.prepend,t.prependSelected,e)},expression:"prepend[prependSelected]"}})],1)]),a("div",{staticClass:"row"},[a("h2",{staticClass:"ui header"},[t._v(" "+t._s(t.$t("append code"))+" ")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"four wide column"},[a("div",{staticClass:"ui attached vertical fluid pointing menu",staticStyle:{height:"370px","overflow-y":"scroll","overflow-x":"hidden"}},[a("a",{class:0===t.appendSelected?"active item":"item",on:{click:function(e){t.appendSelected=0}}},[t._v("C "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[t._v("GNU C99/C11 LLVM Clang ")])]),a("a",{class:1===t.appendSelected?"active item":"item",on:{click:function(e){t.appendSelected=1}}},[t._v("C++ "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[t._v("GNU C++11/C++89/C++17 LLVM Clang++ ")])]),a("a",{class:2===t.appendSelected?"active item":"item",on:{click:function(e){t.appendSelected=2}}},[t._v("Pascal "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[t._v("fpc Pascal ")])]),a("a",{class:3===t.appendSelected?"active item":"item",on:{click:function(e){t.appendSelected=3}}},[t._v("Java "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[t._v(" OpenJDK 1.6/1.7/1.8/1.10 ")])]),a("a",{class:16===t.appendSelected?"active item":"item",on:{click:function(e){t.appendSelected=16}}},[t._v("JavaScript "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[t._v(" NodeJS 10.13.0 ")])]),a("a",{class:6===t.appendSelected?"active item":"item",on:{click:function(e){t.appendSelected=6}}},[t._v("Python "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[t._v(" Python 2.7/3.6 PyPy2/3 ")])]),a("a",{class:9===t.appendSelected?"active item":"item",on:{click:function(e){t.appendSelected=9}}},[t._v("C# "),a("div",{staticClass:"ui right floated",staticStyle:{opacity:"0.4","margin-top":"8px","font-size":"0.7em"}},[t._v(" Mono ")])])])]),a("div",{staticClass:"ten wide column"},[a("monaco-editor",{attrs:{selected_language:t.appendSelected},model:{value:t.append[t.appendSelected],callback:function(e){t.$set(t.append,t.appendSelected,e)},expression:"append[appendSelected]"}})],1)]),"local"===t.from?a("div",{staticClass:"row"},[a("h2",{staticClass:"ui header"},[t._v(" "+t._s(t.$t("hint"))+" ")])]):t._e(),"local"===t.from?a("div",{staticClass:"row"},[a("mavon-editor",{ref:"hint",attrs:{markInstance:t.hintInstance,test:"1"},model:{value:t.hint,callback:function(e){t.hint=e},expression:"hint"}})],1):t._e(),a("a",{staticClass:"ui button",on:{click:t.submit}},[t._v(t._s(t.$t("submit")))])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("p",[t._v("请在题目添加完成后到题目编辑界面添加数据")])])}],s=(a("a4d3"),a("e01a"),a("99af"),a("4160"),a("a15b"),a("a9e3"),a("b64b"),a("d3b7"),a("3ca3"),a("498a"),a("159b"),a("ddb0"),a("b85c")),c=(a("96cf"),a("1da1")),o=a("d4ec"),l=a("bee2"),r=a("262e"),p=a("2caf"),d=a("9ab4"),u=a("2cd4"),m=a("60a3"),v=a("ec1c"),f=a("3865"),h=a("986d"),b=a("1157"),g=a.n(b),y=a("fe4d"),C=g.a,_=function(t){Object(r["a"])(a,t);var e=Object(p["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.title="",t.description="",t.time="",t.memory="",t.input="",t.output="",t.spj=!1,t.sampleinput="",t.sampleoutput="",t.descriptionInstance=v["a"].newInstance(),t.inputInstance=v["a"].newInstance(),t.outputInstance=v["a"].newInstance(),t.hintInstance=v["a"].newInstance(),t.hint="",t.source="local",t.from="local",t.label=[],t.all_label=[],t.prepend={},t.prependSelected=0,t.append={},t.appendSelected=0,t.files=[],t.id=null,t.select=C,t}return Object(l["a"])(a,[{key:"mounted",value:function(){document.title="".concat(this.$t("addproblem")," -- ").concat(document.title),this.initData()}},{key:"makeHref",value:function(t){return"/api/admin/problem/download/data/".concat(this.id,"/").concat(t)}},{key:"PrependAppendLanguage",value:function(t,e,a){var i=this,n=this[t][e];"undefined"!==typeof n&&a.forEach((function(e){i[t][e]=n}))}},{key:"generateProblemId",value:function(){return this.axios.post("/api/problem/add").then((function(t){var e=t.data;return e.data}))}},{key:"submit",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,a,i,n,c,o,l,r,p,d,u,m,v,f,b=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="local",this.PrependAppendLanguage("prepend",0,[21,13,28]),this.PrependAppendLanguage("prepend",1,[19,20,14,29]),this.PrependAppendLanguage("prepend",3,[23,24,27]),this.PrependAppendLanguage("append",3,[23,24,27]),this.PrependAppendLanguage("append",0,[21,13,28]),this.PrependAppendLanguage("append",1,[19,20,14,29]),t.next=9,this.generateProblemId();case 9:a=t.sent,i={imageData:{}},n={payload:[],problemId:a},Object.keys(this.prepend).forEach((function(t){b.prepend[t].trim().length>0&&n.payload.push({language:parseInt(t),code:b.prepend[t]})})),c={payload:[],problemId:a},Object.keys(this.append).forEach((function(t){b.append[t].trim().length>0&&c.payload.push({language:parseInt(t),code:b.append[t]})})),o=Object(s["a"])(this.$children),t.prev=16,o.s();case 18:if((l=o.n()).done){t.next=27;break}if(r=l.value,"undefined"!==typeof r.markdownIt){t.next=22;break}return t.abrupt("continue",25);case 22:p=r.$vnode.data.model,i[p.expression]=p.value,i.imageData[p.expression]=r.markdownIt.__image||{};case 25:t.next=18;break;case 27:t.next=32;break;case 29:t.prev=29,t.t0=t["catch"](16),o.e(t.t0);case 32:return t.prev=32,o.f(),t.finish(32);case 35:i.time=this.time,i.memory=this.memory,i.title=this.title,i.sampleinput=this.sampleinput,i.sampleoutput=this.sampleoutput,i.spj=Number(this.spj),i.hint=this.hint,d=this.label,i.label=Object(h["a"])(d).join(" "),u=[],m=this.axios.post("/api/problem/".concat(this.source,"/").concat(a),{json:i}).then((function(t){var i=t.data;"OK"===i.status&&(b.axios.get("/api/problem/".concat(e,"?id=").concat(a)),alert("提交成功"))})),v=this.axios.post("/api/problem/prefile/prepend",n),f=this.axios.post("/api/problem/prefile/append",c),u.push(m,v,f),Promise.all(u).then((function(){b.routerBack()}));case 50:case"end":return t.stop()}}),t,this,[[16,29,32,35]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"initData",value:function(){var t=this;this.axios.get("/api/problem/local/?label=true").then((function(e){var a=e.data,i=C(".label.selection.ui.dropdown");t.all_label=a.data;var n=t.label;i.dropdown({allowAdditions:!0}).on("click",(function(){t.label=i.dropdown("get value")}));for(var s=0;s<n.length;++s)i.dropdown("set selected",n[s])}))}}]),a}(Object(m["b"])(u["a"],y["a"]));_=Object(d["c"])([Object(m["a"])({components:{monacoEditor:f["a"]}})],_);var w=_,S=w,x=a("2877"),k=Object(x["a"])(S,i,n,!1,null,"352f21bc",null);e["default"]=k.exports},fe4d:function(t,e,a){"use strict";var i=a("d4ec"),n=a("bee2"),s=a("262e"),c=a("2caf"),o=a("9ab4"),l=a("2b0e"),r=a("60a3"),p=function(t){Object(s["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return Object(n["a"])(a,[{key:"routerBack",value:function(t){window.history.length<=1?this.$router.push(t||"/"):this.$router.back()}}]),a}(l["a"]);p=Object(o["c"])([r["a"]],p),e["a"]=p}}]);