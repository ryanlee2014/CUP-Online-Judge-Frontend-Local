(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18271468"],{"00d8":function(t,e){(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,a=0;n<t.length;n++,a+=8)e[a>>>5]|=t[n]<<24-a%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],a=0;a<t.length;a+=3)for(var r=t[a]<<16|t[a+1]<<8|t[a+2],i=0;i<4;i++)8*a+6*i<=8*t.length?n.push(e.charAt(r>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],a=0,r=0;a<t.length;r=++a%4)0!=r&&n.push((e.indexOf(t.charAt(a-1))&Math.pow(2,-2*r+8)-1)<<2*r|e.indexOf(t.charAt(a))>>>6-2*r);return n}};t.exports=n})()},"044b":function(t,e){function n(t){return!!t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function a(t){return"function"===typeof t.readFloatLE&&"function"===typeof t.slice&&n(t.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||a(t)||!!t._isBuffer)}},"0c11":function(t,e,n){"use strict";var a=n("d4ec"),r=n("bee2"),i=n("262e"),c=n("2caf"),o=n("9ab4"),s=n("2b0e"),u=n("fbdb"),d=n.n(u),l=n("1157"),h=n.n(l),f=n("60a3"),p=function(t){Object(i["a"])(n,t);var e=Object(c["a"])(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(r["a"])(n,[{key:"created",value:function(){var t=this;h()(document).on("click",(function(){t.initVisibleMermaid()}))}},{key:"initVisibleMermaid",value:function(){h()(".mermaid").each((function(t,e){h()(e).is(":visible")&&d.a.init(e)}))}},{key:"initMermaid",value:function(){h()(".mermaid").each((function(t,e){d.a.init(e)}))}}]),n}(s["a"]);p=Object(o["c"])([f["a"]],p),e["a"]=p},"20a2":function(t,e,n){"use strict";var a=n("d4ec"),r=n("bee2"),i=n("262e"),c=n("2caf"),o=n("9ab4"),s=n("2b0e"),u=n("60a3"),d=n("3657"),l=d["a"].getAvatarURL,h=d["a"].hasAvatarURL,f=function(t){Object(i["a"])(n,t);var e=Object(c["a"])(n);function n(){return Object(a["a"])(this,n),e.apply(this,arguments)}return Object(r["a"])(n,[{key:"getAvatarURL",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return l.apply(this,e)}},{key:"hasAvatarURL",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return h.apply(this,e)}}]),n}(s["a"]);f=Object(o["c"])([u["a"]],f),e["a"]=f},3185:function(t,e,n){"use strict";var a=n("d4ec"),r=n("262e"),i=n("2caf"),c=n("9ab4"),o=n("2b0e"),s=n("60a3"),u=function(t){Object(r["a"])(n,t);var e=Object(i["a"])(n);function n(){var t;return Object(a["a"])(this,n),t=e.apply(this,arguments),t.captchaHash=Math.random(),t}return n}(o["a"]);u=Object(c["c"])([s["a"]],u),e["a"]=u},"45da":function(t,e,n){"use strict";var a=n("c4ce"),r=n.n(a);r.a},"5dbd":function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"d",(function(){return p})),n.d(e,"b",(function(){return v})),n.d(e,"g",(function(){return b})),n.d(e,"e",(function(){return m})),n.d(e,"c",(function(){return y})),n.d(e,"f",(function(){return g}));n("99af"),n("a15b"),n("d81d"),n("b0c0"),n("96cf");var a=n("1da1"),r=n("2ef0"),i=n.n(r),c=n("6821"),o=n.n(c),s=function(){},u=s;function d(t){return function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];u.apply(void 0,[t].concat(n))}}var l=n("beea"),h=d("Decorator mounted: ");function f(t,e){return function(n,a,r){h("debounce, target:".concat(n.constructor.name,", propertyName:").concat(a));var c=r.value;return r.value=i.a.debounce(c,t,e),r}}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(e,n,a){h("Interval, target:".concat(e.constructor.name,", propertyName:").concat(n));var r=a.value;a.value=function(){for(var a=this,i=arguments.length,c=new Array(i),o=0;o<i;o++)c[o]=arguments[o];if("undefined"===typeof this.timer_||"undefined"===typeof this.timer_.length)throw new Error("You should mixin TimerMixin to your component");r.apply(this,c),this.timer_.push(setInterval((function(){h("".concat(e.constructor.name,".").concat(n," called.")),r.apply(a,c)}),t))},u("mounted interval")}}function v(t,e,n){h("Debuglogging, target:".concat(t.constructor.name,", propertyName:").concat(e));var a=n.value;n.value=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.map((function(t){return JSON.stringify(t)})).join(),c=a.apply(this,n),o=JSON.stringify(c);return u("Call: ".concat(e,"(").concat(i,") => ").concat(o)),c}}function b(t,e,n){h("WebSocketRequest, target:".concat(t.constructor.name,", propertyName:").concat(e));var a=n.value;n.value=function(){if(this.$socket.connected){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return a.apply(this,e)}alert("WebSocket服务未启动，请等待服务启动后提交\nWebSocket服务启动标志未:\n右上角显示在线人数")}}function m(t){return function(e,n,r){h("Lock, target:".concat(e.constructor.name,", propertyName:").concat(n));var i=r.value;r.value=Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a,r,c,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.acquireAsync();case 2:for(n=o.length,a=new Array(n),r=0;r<n;r++)a[r]=o[r];return c=i.apply(this,a),t.release(),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e,this)})))}}function y(t,e,n){h("ErrorAlert, target:".concat(t.constructor.name,", propertyName:").concat(e));var a=n.value;n.value=function(){try{for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return a.apply(this,e)}catch(r){alert(r.message)}}}function g(t,e,n){h("RunOnceEachKey, target:".concat(t.constructor.name,", propertyName:").concat(e));var a=n.value,r={};n.value=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=o()(Object(l["b"])(e));if(!r[i])return r[i]=!0,a.apply(this,e)}}},6821:function(t,e,n){(function(){var e=n("00d8"),a=n("9a63").utf8,r=n("044b"),i=n("9a63").bin,c=function(t,n){t.constructor==String?t=n&&"binary"===n.encoding?i.stringToBytes(t):a.stringToBytes(t):r(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var o=e.bytesToWords(t),s=8*t.length,u=1732584193,d=-271733879,l=-1732584194,h=271733878,f=0;f<o.length;f++)o[f]=16711935&(o[f]<<8|o[f]>>>24)|4278255360&(o[f]<<24|o[f]>>>8);o[s>>>5]|=128<<s%32,o[14+(s+64>>>9<<4)]=s;var p=c._ff,v=c._gg,b=c._hh,m=c._ii;for(f=0;f<o.length;f+=16){var y=u,g=d,_=l,k=h;u=p(u,d,l,h,o[f+0],7,-680876936),h=p(h,u,d,l,o[f+1],12,-389564586),l=p(l,h,u,d,o[f+2],17,606105819),d=p(d,l,h,u,o[f+3],22,-1044525330),u=p(u,d,l,h,o[f+4],7,-176418897),h=p(h,u,d,l,o[f+5],12,1200080426),l=p(l,h,u,d,o[f+6],17,-1473231341),d=p(d,l,h,u,o[f+7],22,-45705983),u=p(u,d,l,h,o[f+8],7,1770035416),h=p(h,u,d,l,o[f+9],12,-1958414417),l=p(l,h,u,d,o[f+10],17,-42063),d=p(d,l,h,u,o[f+11],22,-1990404162),u=p(u,d,l,h,o[f+12],7,1804603682),h=p(h,u,d,l,o[f+13],12,-40341101),l=p(l,h,u,d,o[f+14],17,-1502002290),d=p(d,l,h,u,o[f+15],22,1236535329),u=v(u,d,l,h,o[f+1],5,-165796510),h=v(h,u,d,l,o[f+6],9,-1069501632),l=v(l,h,u,d,o[f+11],14,643717713),d=v(d,l,h,u,o[f+0],20,-373897302),u=v(u,d,l,h,o[f+5],5,-701558691),h=v(h,u,d,l,o[f+10],9,38016083),l=v(l,h,u,d,o[f+15],14,-660478335),d=v(d,l,h,u,o[f+4],20,-405537848),u=v(u,d,l,h,o[f+9],5,568446438),h=v(h,u,d,l,o[f+14],9,-1019803690),l=v(l,h,u,d,o[f+3],14,-187363961),d=v(d,l,h,u,o[f+8],20,1163531501),u=v(u,d,l,h,o[f+13],5,-1444681467),h=v(h,u,d,l,o[f+2],9,-51403784),l=v(l,h,u,d,o[f+7],14,1735328473),d=v(d,l,h,u,o[f+12],20,-1926607734),u=b(u,d,l,h,o[f+5],4,-378558),h=b(h,u,d,l,o[f+8],11,-2022574463),l=b(l,h,u,d,o[f+11],16,1839030562),d=b(d,l,h,u,o[f+14],23,-35309556),u=b(u,d,l,h,o[f+1],4,-1530992060),h=b(h,u,d,l,o[f+4],11,1272893353),l=b(l,h,u,d,o[f+7],16,-155497632),d=b(d,l,h,u,o[f+10],23,-1094730640),u=b(u,d,l,h,o[f+13],4,681279174),h=b(h,u,d,l,o[f+0],11,-358537222),l=b(l,h,u,d,o[f+3],16,-722521979),d=b(d,l,h,u,o[f+6],23,76029189),u=b(u,d,l,h,o[f+9],4,-640364487),h=b(h,u,d,l,o[f+12],11,-421815835),l=b(l,h,u,d,o[f+15],16,530742520),d=b(d,l,h,u,o[f+2],23,-995338651),u=m(u,d,l,h,o[f+0],6,-198630844),h=m(h,u,d,l,o[f+7],10,1126891415),l=m(l,h,u,d,o[f+14],15,-1416354905),d=m(d,l,h,u,o[f+5],21,-57434055),u=m(u,d,l,h,o[f+12],6,1700485571),h=m(h,u,d,l,o[f+3],10,-1894986606),l=m(l,h,u,d,o[f+10],15,-1051523),d=m(d,l,h,u,o[f+1],21,-2054922799),u=m(u,d,l,h,o[f+8],6,1873313359),h=m(h,u,d,l,o[f+15],10,-30611744),l=m(l,h,u,d,o[f+6],15,-1560198380),d=m(d,l,h,u,o[f+13],21,1309151649),u=m(u,d,l,h,o[f+4],6,-145523070),h=m(h,u,d,l,o[f+11],10,-1120210379),l=m(l,h,u,d,o[f+2],15,718787259),d=m(d,l,h,u,o[f+9],21,-343485551),u=u+y>>>0,d=d+g>>>0,l=l+_>>>0,h=h+k>>>0}return e.endian([u,d,l,h])};c._ff=function(t,e,n,a,r,i,c){var o=t+(e&n|~e&a)+(r>>>0)+c;return(o<<i|o>>>32-i)+e},c._gg=function(t,e,n,a,r,i,c){var o=t+(e&a|n&~a)+(r>>>0)+c;return(o<<i|o>>>32-i)+e},c._hh=function(t,e,n,a,r,i,c){var o=t+(e^n^a)+(r>>>0)+c;return(o<<i|o>>>32-i)+e},c._ii=function(t,e,n,a,r,i,c){var o=t+(n^(e|~a))+(r>>>0)+c;return(o<<i|o>>>32-i)+e},c._blocksize=16,c._digestsize=16,t.exports=function(t,n){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var a=e.wordsToBytes(c(t,n));return n&&n.asBytes?a:n&&n.asString?i.bytesToString(a):e.bytesToHex(a)}})()},"75ed":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui link card"},[n("div",{staticClass:"image"},[n("router-link",{attrs:{to:"/user/"+t.thread_head.user_id}},[n("v-gravatar",{staticStyle:{width:"100%",display:"flex"},attrs:{size:400,hostname:"gravatar.w3tt.com",email:t.thread_head.email}})],1)],1),n("div",{staticClass:"content"},[n("div",{staticClass:"header"},[n("router-link",{staticClass:"black",attrs:{to:"/user/"+t.thread_head.user_id}},[t._v(" "+t._s(t.thread_head.nick)+" ")])],1),n("div",{staticClass:"meta"},[n("router-link",{attrs:{to:"/user/"+t.thread_head.user_id}},[t._v(" "+t._s(t.thread_head.user_id)+" ")])],1),n("div",{staticClass:"description",domProps:{innerHTML:t._s(t.biography)}})]),n("div",{staticClass:"extra content"},[n("span",{staticClass:"right floated"}),n("span",[n("i",{staticClass:"user icon"}),t._v(" "+t._s(t.$t("solved"))+" "+t._s(t.thread_head.solved)+" ")])])])},r=[],i=(n("96cf"),n("1da1")),c=n("d4ec"),o=n("bee2"),s=n("262e"),u=n("2caf"),d=n("9ab4"),l=n("60a3"),h=n("20a2"),f=n("92f1"),p=function(t){Object(s["a"])(n,t);var e=Object(u["a"])(n);function n(){var t;return Object(c["a"])(this,n),t=e.apply(this,arguments),t.biography="",t}return Object(o["a"])(n,[{key:"onThreadHeadChanged",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.renderRawAsync(e.biography);case 2:this.biography=t.sent;case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),n}(Object(l["b"])(h["a"],f["a"]));Object(d["c"])([Object(l["c"])({default:function(){return{biography:"",solved:0,user_id:"",nick:"",email:""}}})],p.prototype,"thread_head",void 0),Object(d["c"])([Object(l["d"])("thread_head")],p.prototype,"onThreadHeadChanged",null),p=Object(d["c"])([l["a"]],p);var v=p,b=v,m=n("2877"),y=Object(m["a"])(b,a,r,!1,null,"281d9e67",null);e["a"]=y.exports},"8da9":function(t,e,n){"use strict";var a=n("ce9a"),r=n.n(a);r.a},"92f1":function(t,e,n){"use strict";n("96cf");var a=n("1da1"),r=n("d4ec"),i=n("bee2"),c=n("262e"),o=n("2caf"),s=n("9ab4"),u=n("2b0e"),d=n("60a3"),l=n("ebb0"),h=n.n(l),f=function(){return new Worker(n.p+"static/js/markdown.web.worker-legacy.eefacd48.worker.js")},p=function(t){Object(c["a"])(n,t);var e=Object(o["a"])(n);function n(){var t;return Object(r["a"])(this,n),t=e.apply(this,arguments),t.originalWorker=new f,t}return Object(i["a"])(n,[{key:"created",value:function(){this.worker_=new h.a(this.originalWorker)}},{key:"beforeDestroy",value:function(){this.originalWorker.terminate()}},{key:"renderAsync",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.worker_.postMessage({type:"render",content:e}));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"renderRawAsync",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.worker_.postMessage({type:"renderRaw",content:e}));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),n}(u["a"]);p=Object(s["c"])([d["a"]],p);e["a"]=p},"9a63":function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},"9edc":function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh-cn":{"read time cost":"阅读本文需要大约{n}分钟"},"en":{"read time cost":"It takes about {n} minute to read this article | It takes about {n} minutes to read this article"},"ja":{"read time cost":"この記事を読むには約{n}分かかります"}}'),delete t.options._Ctor}},b0d1:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui container padding"},[n("h2",{staticClass:"ui dividing header"},[t._v(t._s(t.$t("discuss")))]),n("div",{staticClass:"ui breadcrumb"},[n("router-link",{staticClass:"section",attrs:{to:"/discuss"}},[t._v(t._s(t.$t("discuss homepage")))]),n("i",{staticClass:"right angle icon divider"}),n("div",{staticClass:"active section"},[t._v(t._s(t.$t("discuss"))+" ID:"+t._s(t.id))])],1),n("h1",{staticClass:"ui header"},[t._v(t._s(t.thread_head?t.thread_head.title:""))]),n("MainContent",{attrs:{id:t.id,owner:t.owner,thread_head:t.thread_head||{}}}),n("h3",{staticClass:"ui dividing header"},[t._v(t._s(t.$t("comments")))]),n("div",{staticClass:"ui comments"},t._l(t.reply,(function(e,a){return n("div",{key:a,staticClass:"comment"},[n("div",{staticClass:"avatar"},[n("router-link",{attrs:{to:"/user/"+e.user_id}},[n("v-gravatar",{staticClass:"avatar",attrs:{hostname:"gravatar.w3tt.com",size:400,email:e.email}})],1)],1),n("div",{staticClass:"content"},[n("router-link",{staticClass:"author",attrs:{to:"/user/"+e.user_id}},[t._v(t._s(e.nick))]),n("div",{staticClass:"metadata"},[n("span",{staticClass:"date"},[t._v(t._s(new Date(e.create_time).toLocaleString()))])]),n("div",{staticClass:"text",domProps:{innerHTML:t._s(e.content)}}),n("div",{staticClass:"actions"},[e.user_id+""===t.owner?n("router-link",{staticClass:"reply",attrs:{to:"/discuss/edit/"+t.id+"/"+e.comment_id}},[t._v(" "+t._s(t.$t("edit"))+" ")]):t._e(),t.isadmin?n("a",{staticClass:"reply",on:{click:function(n){return t.block_reply(e.comment_id)}}},[t._v(t._s(t.$t("block")))]):t._e()],1)],1)])})),0),n("h3",{staticClass:"ui dividing header"},[t._v(t._s(t.$t("reply")))]),n("form",{staticClass:"ui reply form"},[n("div",{staticClass:"field"},[n("mavon-editor",{model:{value:t.replyText,callback:function(e){t.replyText=e},expression:"replyText"}})],1),n("div",{staticClass:"two field"},[n("div",{staticClass:"ui left input",staticStyle:{width:"auto"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.captcha,expression:"captcha"}],attrs:{id:"vcode",name:"vcode",placeholder:t.$t("captcha"),type:"text"},domProps:{value:t.captcha},on:{input:function(e){e.target.composing||(t.captcha=e.target.value)}}}),n("img",{staticClass:"captcha",attrs:{alt:"click to change",height:"40px",id:"vcode_graph",onclick:"this.src='/api/captcha?from=discuss&random='+Math.random()",src:"/api/captcha?from=discuss&random="+t.captchaHash}})])]),n("div",{staticClass:"ui blue labeled submit icon button",on:{click:t.replyComment}},[n("i",{staticClass:"icon edit"}),t._v(" "+t._s(t.$t("add"))+" ")])])],1)},r=[],i=(n("99af"),n("4160"),n("b65f"),n("159b"),n("96cf"),n("1da1")),c=n("d4ec"),o=n("bee2"),s=n("262e"),u=n("2caf"),d=n("9ab4"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui grid"},[n("div",{staticClass:"four wide column"},[n("UserCard",{attrs:{thread_head:t.thread_head}}),n("div",{staticClass:"ui sticky",staticStyle:{left:"50.1429px"},attrs:{id:"sticky_content"}},[n("h3",{directives:[{name:"show",rawName:"v-show",value:t.content,expression:"content"}],staticClass:"ui header",attrs:{id:"contents"}},[t._v(t._s(t.$t("contents")))]),n("div",{attrs:{id:"contentContainer"}})])],1),n("div",{staticClass:"twelve wide column"},[n("div",{staticClass:"ui existing full segment",attrs:{id:"main_context"}},[t.thread_head.user_id+""===t.owner?n("router-link",{staticClass:"ui blue right ribbon label",attrs:{to:"/discuss/edit/"+t.id}},[t._v(" "+t._s(t.$t("edit"))+" ")]):t._e(),n("div",{staticClass:"ui info message"},[n("div",{staticClass:"header"},[t._v(" "+t._s(t.$tc("read time cost",t.readTime(t.thread_head.content),{n:t.readTime(t.thread_head.content)}))+" ")])]),n("div",{domProps:{innerHTML:t._s(t.thread_content)}})],1)])])},h=[],f=(n("7db0"),n("498a"),n("20a2")),p=n("60a3"),v=n("75ed"),b=n("92f1"),m=n("1157"),y=n.n(m),g=n("0c11"),_=n("5dbd"),k=n("56c2"),w=document.createElement("div"),j=y.a,O=n("19dd"),C=function(t){Object(s["a"])(n,t);var e=Object(u["a"])(n);function n(){var t;return Object(c["a"])(this,n),t=e.apply(this,arguments),t.thread_content="",t.content=!1,t}return Object(o["a"])(n,[{key:"created",value:function(){this.thread_content=this.$t("loading")}},{key:"onThreadHeadChanged",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var n,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.content){t.next=6;break}return t.next=3,this.renderAsync(e.content);case 3:n=t.sent,this.thread_content=n,this.$nextTick((function(){a.renderMermaid()}));case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"renderMermaid",value:function(){this.initMermaid()}},{key:"readTime",value:function(t){return w.innerHTML=t,Math.trunc(Math.pow(Math.ceil(w.innerText.length/300),1.41428579532))}},{key:"updated",value:function(){var t=j(".table-of-contents"),e=t.html(),n=j("#contentContainer");e||(e=""),t.html(""),e&&n.html(""+e),j("#sticky_content").sticky({context:"#main_context",offset:50}),n.find("a").on("click",(function(){return j([document.documentElement,document.body]).animate({scrollTop:j(document.getElementById(O(this.innerText))).offset().top-50},600),!1})),this.content=e&&e.trim&&e.trim().length>0||n&&n.html()&&n.html().trim().length>0}}]),n}(Object(p["b"])(f["a"],b["a"],g["a"],k["a"]));Object(d["c"])([Object(p["c"])({default:function(){return{}}})],C.prototype,"thread_head",void 0),Object(d["c"])([Object(p["c"])({default:""})],C.prototype,"owner",void 0),Object(d["c"])([Object(p["c"])({default:""})],C.prototype,"id",void 0),Object(d["c"])([Object(p["d"])("thread_head")],C.prototype,"onThreadHeadChanged",null),Object(d["c"])([Object(_["a"])(100)],C.prototype,"renderMermaid",null),C=Object(d["c"])([Object(p["a"])({components:{UserCard:v["a"]}})],C);var x=C,T=x,M=(n("8da9"),n("2877")),A=n("c82a"),R=Object(M["a"])(T,l,h,!1,null,"2ec4ed9e",null);"function"===typeof A["default"]&&Object(A["default"])(R);var $=R.exports,S=n("2cd4"),B=n("2ef0"),E=n.n(B),H=n("b311"),L=n.n(H),N=n("3185"),I=y.a,U=(n("19dd"),function(t){Object(s["a"])(n,t);var e=Object(u["a"])(n);function n(){var t;return Object(c["a"])(this,n),t=e.apply(this,arguments),t.page=0,t.table_val={},t.total=0,t.id=0,t.replyText="",t.captcha="",t.owner="",t.isadmin=!1,t}return Object(o["a"])(n,[{key:"created",value:function(){this.id=parseInt(this.$route.params.id)||0}},{key:"mounted",value:function(){document.title="Thread ".concat(this.id," -- ").concat(document.title);var t=20*this.page,e=this;this.axios.get("/api/discuss/".concat(this.id,"?page=").concat(t)).then((function(t){var n=t.data;e.table=n})),this.$nextTick((function(){var t=this,e=new L.a(".copy.context",{text:function(t){return I(t).parent().next().text()}});e.on("success",(function(e){I(e.trigger).popup({title:t.$t("finish"),content:t.$t("Context is in your clipboard"),on:"click"}).popup("show")}))}))}},{key:"replyComment",value:function(){var t={comment:this.replyText,captcha:this.captcha};this.axios.post("/api/discuss/reply/".concat(this.id),t).then((function(t){t.data;alert("回复成功"),location.reload()})).catch((function(t){t.data;alert("回复失败！服务器发生未知错误")}))}},{key:"block_reply",value:function(t){this.axios.get("/api/discuss/update/reply/block/".concat(this.id,"/").concat(t)).then((function(t){t.data;alert("操作成功")})).catch((function(t){t.data;alert("操作失败")}))}},{key:"readTime",value:function(t){var e=document.createElement("div");return e.innerHTML=t,Math.trunc(Math.pow(Math.ceil(e.innerText.length/300),1.41428579532))}},{key:"table",get:function(){return this.table_val},set:function(t){var e=this;E.a.forEach(t,(function(t){t&&t.length&&E.a.forEach(t,function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.content){t.next=4;break}return t.next=3,e.renderAsync(n.content);case 3:n.content=t.sent;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),this.table_val=t,this.owner=t.owner,this.isadmin=t.admin}},{key:"thread_head",get:function(){var t={title:""};return E.a.assign(t,this.table_val.discuss_header_content),t}},{key:"reply",get:function(){return this.table_val.discuss}}]),n}(Object(p["b"])(S["a"],f["a"],b["a"],N["a"],k["a"])));U=Object(d["c"])([Object(p["a"])({components:{MainContent:$},i18n:{messages:{"zh-cn":{"discuss homepage":"讨论主页",block:"移除"},en:{"discuss homepage":"Discussion Homepage",block:"Block"},ja:{"discuss homepage":"掲示板ホームページ",block:"リムーブ"}}}})],U);var W=U,z=W,D=(n("45da"),Object(M["a"])(z,a,r,!1,null,"7f17d288",null));e["default"]=D.exports},b65f:function(t,e,n){var a=n("23e7"),r=Math.ceil,i=Math.floor;a({target:"Math",stat:!0},{trunc:function(t){return(t>0?i:r)(t)}})},c4ce:function(t,e,n){},c82a:function(t,e,n){"use strict";var a=n("9edc"),r=n.n(a);e["default"]=r.a},ce9a:function(t,e,n){},ebb0:function(t,e,n){"use strict";var a=0;function r(t,e){var n=e.data;if(Array.isArray(n)&&!(n.length<2)){var a=n[0],r=n[1],i=n[2],c=t._callbacks[a];c&&(delete t._callbacks[a],c(r,i))}}function i(t){var e=this;e._worker=t,e._callbacks={},t.addEventListener("message",(function(t){r(e,t)}))}i.prototype.postMessage=function(t){var e=this,n=a++,i=[n,t];return new Promise((function(t,a){if(e._callbacks[n]=function(e,n){if(e)return a(new Error(e.message));t(n)},"undefined"!==typeof e._worker.controller){var c=new MessageChannel;c.port1.onmessage=function(t){r(e,t)},e._worker.controller.postMessage(i,[c.port2])}else e._worker.postMessage(i)}))},t.exports=i}}]);