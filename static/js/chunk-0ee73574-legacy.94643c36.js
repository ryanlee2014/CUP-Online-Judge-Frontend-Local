(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ee73574"],{"00d8":function(t,e){(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var a=t[r]<<16|t[r+1]<<8|t[r+2],i=0;i<4;i++)8*r+6*i<=8*t.length?n.push(e.charAt(a>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,a=0;r<t.length;a=++r%4)0!=a&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*a+8)-1)<<2*a|e.indexOf(t.charAt(r))>>>6-2*a);return n}};t.exports=n})()},"044b":function(t,e){function n(t){return!!t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function r(t){return"function"===typeof t.readFloatLE&&"function"===typeof t.slice&&n(t.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||r(t)||!!t._isBuffer)}},"0b52":function(t,e,n){},"111f":function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh-cn":{"context":"根据管理员设置，该页面禁止进入"},"en":{"context":"According to admin setup, you don\'t have privilege to access target page"},"ja":{"context":"都合によって、このページはアクセス禁止されている"}}'),delete t.options._Ctor}},"5dbd":function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"d",(function(){return m})),n.d(e,"b",(function(){return h})),n.d(e,"h",(function(){return b})),n.d(e,"e",(function(){return g})),n.d(e,"c",(function(){return y})),n.d(e,"g",(function(){return _})),n.d(e,"f",(function(){return j}));n("99af"),n("a15b"),n("d81d"),n("b0c0"),n("96cf");var r=n("1da1"),a=n("2ef0"),i=n.n(a),o=n("6821"),c=n.n(o),s=function(){},u=s;function l(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];u.apply(void 0,[t].concat(n))}}var p=n("beea"),d=n("ec1c"),f=l("Decorator mounted: ");function v(t,e){return function(n,r,a){f("debounce, target:".concat(n.constructor.name,", propertyName:").concat(r));var o=a.value;return a.value=i.a.debounce(o,t,e),a}}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(e,n,r){f("Interval, target:".concat(e.constructor.name,", propertyName:").concat(n));var a=r.value;r.value=function(){for(var r=this,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];if("undefined"===typeof this.timer_||"undefined"===typeof this.timer_.length)throw new Error("You should mixin TimerMixin to your component");a.apply(this,o),this.timer_.push(setInterval((function(){f("".concat(e.constructor.name,".").concat(n," called.")),a.apply(r,o)}),t))},u("mounted interval")}}function h(t,e,n){f("Debuglogging, target:".concat(t.constructor.name,", propertyName:").concat(e));var r=n.value;n.value=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var i=n.map((function(t){return JSON.stringify(t)})).join(),o=r.apply(this,n),c=JSON.stringify(o);return u("Call: ".concat(e,"(").concat(i,") => ").concat(c)),o}}function b(t,e,n){f("WebSocketRequest, target:".concat(t.constructor.name,", propertyName:").concat(e));var r=n.value;n.value=function(){if(this.$socket.connected){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.apply(this,e)}alert("WebSocket服务未启动，请等待服务启动后提交\nWebSocket服务启动标志未:\n右上角显示在线人数")}}function g(t){return function(e,n,a){f("Lock, target:".concat(e.constructor.name,", propertyName:").concat(n));var i=a.value;a.value=Object(r["a"])(regeneratorRuntime.mark((function e(){var n,r,a,o,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.acquireAsync();case 2:for(n=c.length,r=new Array(n),a=0;a<n;a++)r[a]=c[a];return o=i.apply(this,r),t.release(),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e,this)})))}}function y(t,e,n){f("ErrorAlert, target:".concat(t.constructor.name,", propertyName:").concat(e));var r=n.value;n.value=function(){try{for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.apply(this,e)}catch(a){alert(a.message)}}}function _(t,e,n){f("RunOnceEachKey, target:".concat(t.constructor.name,", propertyName:").concat(e));var r=n.value,a={};n.value=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=c()(Object(p["b"])(e));if(!a[i])return a[i]=!0,r.apply(this,e)}}function j(t,e,n){f("MarkdownDebug, target:".concat(t.constructor.name,", propertyName:").concat(e));var a=n.value;window.markdownIt=d["a"],n.value=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",a.call(this,n));case 4:if("renderRawAsync"!==e){t.next=8;break}return t.abrupt("return",d["a"].renderRaw(n));case 8:if("renderPlain"!==e){t.next=12;break}return t.abrupt("return",d["a"].renderPlain(n));case 12:return t.abrupt("return",d["a"].render(n));case 13:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}},"626a":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],ref:"progressBarElement",class:t.progressBarClass,on:{mouseenter:t.trigger}},[n("div",{staticClass:"bar"})])},a=[],i=n("d4ec"),o=n("bee2"),c=n("262e"),s=n("2caf"),u=n("9ab4"),l=n("6da9"),p=n("1b40"),d=n("1157"),f=n.n(d),v=f.a,m=function(t){Object(c["a"])(n,t);var e=Object(s["a"])(n);function n(){var t;return Object(i["a"])(this,n),t=e.apply(this,arguments),t.prevPercentage=0,t.element=null,t}return Object(o["a"])(n,[{key:"visibilityChanged",value:function(t,e){t&&this.active?this.element.progress("set active"):this.element.progress("remove active")}},{key:"updated",value:function(){this.mountFunc()}},{key:"mounted",value:function(){this.mountFunc()}},{key:"mountFunc",value:function(){null===this.element&&(this.element=v(this.$refs.progressBarElement)),this.prevPercentage!==this.percentage&&(this.element.progress({percent:this.percentage,autoSuccess:!1}),this.prevPercentage=this.percentage)}},{key:"trigger",value:function(){this.popupEvent(this.$refs.progressBarElement)}},{key:"forceUpdate",value:function(){this.prevPercentage!==this.percentage&&this.$nextTick(this.$forceUpdate)}},{key:"onSizeChange",value:function(){this.forceUpdate()}},{key:"onColorChange",value:function(){this.forceUpdate()}},{key:"onActiveChange",value:function(){this.forceUpdate()}},{key:"onPercentageChange",value:function(){this.forceUpdate()}},{key:"progressBarClass",get:function(){var t=["ui","progress"];return this.size.length>0&&t.push(this.size),this.color.length>0&&t.push(this.color),this.active&&t.push("active"),t}}]),n}(Object(p["b"])(l["a"]));Object(u["a"])([Object(p["c"])({default:""})],m.prototype,"size",void 0),Object(u["a"])([Object(p["c"])({default:""})],m.prototype,"color",void 0),Object(u["a"])([Object(p["c"])({default:!1})],m.prototype,"active",void 0),Object(u["a"])([Object(p["c"])({default:0})],m.prototype,"percentage",void 0),Object(u["a"])([Object(p["c"])({default:function(t){}})],m.prototype,"popupEvent",void 0),Object(u["a"])([Object(p["d"])("size")],m.prototype,"onSizeChange",null),Object(u["a"])([Object(p["d"])("color")],m.prototype,"onColorChange",null),Object(u["a"])([Object(p["d"])("active")],m.prototype,"onActiveChange",null),Object(u["a"])([Object(p["d"])("percentage")],m.prototype,"onPercentageChange",null),m=Object(u["a"])([p["a"]],m);var h=m,b=h,g=(n("ee78"),n("2877")),y=Object(g["a"])(b,r,a,!1,null,"75baf2bd",null);e["a"]=y.exports},6821:function(t,e,n){(function(){var e=n("00d8"),r=n("9a63").utf8,a=n("044b"),i=n("9a63").bin,o=function(t,n){t.constructor==String?t=n&&"binary"===n.encoding?i.stringToBytes(t):r.stringToBytes(t):a(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var c=e.bytesToWords(t),s=8*t.length,u=1732584193,l=-271733879,p=-1732584194,d=271733878,f=0;f<c.length;f++)c[f]=16711935&(c[f]<<8|c[f]>>>24)|4278255360&(c[f]<<24|c[f]>>>8);c[s>>>5]|=128<<s%32,c[14+(s+64>>>9<<4)]=s;var v=o._ff,m=o._gg,h=o._hh,b=o._ii;for(f=0;f<c.length;f+=16){var g=u,y=l,_=p,j=d;u=v(u,l,p,d,c[f+0],7,-680876936),d=v(d,u,l,p,c[f+1],12,-389564586),p=v(p,d,u,l,c[f+2],17,606105819),l=v(l,p,d,u,c[f+3],22,-1044525330),u=v(u,l,p,d,c[f+4],7,-176418897),d=v(d,u,l,p,c[f+5],12,1200080426),p=v(p,d,u,l,c[f+6],17,-1473231341),l=v(l,p,d,u,c[f+7],22,-45705983),u=v(u,l,p,d,c[f+8],7,1770035416),d=v(d,u,l,p,c[f+9],12,-1958414417),p=v(p,d,u,l,c[f+10],17,-42063),l=v(l,p,d,u,c[f+11],22,-1990404162),u=v(u,l,p,d,c[f+12],7,1804603682),d=v(d,u,l,p,c[f+13],12,-40341101),p=v(p,d,u,l,c[f+14],17,-1502002290),l=v(l,p,d,u,c[f+15],22,1236535329),u=m(u,l,p,d,c[f+1],5,-165796510),d=m(d,u,l,p,c[f+6],9,-1069501632),p=m(p,d,u,l,c[f+11],14,643717713),l=m(l,p,d,u,c[f+0],20,-373897302),u=m(u,l,p,d,c[f+5],5,-701558691),d=m(d,u,l,p,c[f+10],9,38016083),p=m(p,d,u,l,c[f+15],14,-660478335),l=m(l,p,d,u,c[f+4],20,-405537848),u=m(u,l,p,d,c[f+9],5,568446438),d=m(d,u,l,p,c[f+14],9,-1019803690),p=m(p,d,u,l,c[f+3],14,-187363961),l=m(l,p,d,u,c[f+8],20,1163531501),u=m(u,l,p,d,c[f+13],5,-1444681467),d=m(d,u,l,p,c[f+2],9,-51403784),p=m(p,d,u,l,c[f+7],14,1735328473),l=m(l,p,d,u,c[f+12],20,-1926607734),u=h(u,l,p,d,c[f+5],4,-378558),d=h(d,u,l,p,c[f+8],11,-2022574463),p=h(p,d,u,l,c[f+11],16,1839030562),l=h(l,p,d,u,c[f+14],23,-35309556),u=h(u,l,p,d,c[f+1],4,-1530992060),d=h(d,u,l,p,c[f+4],11,1272893353),p=h(p,d,u,l,c[f+7],16,-155497632),l=h(l,p,d,u,c[f+10],23,-1094730640),u=h(u,l,p,d,c[f+13],4,681279174),d=h(d,u,l,p,c[f+0],11,-358537222),p=h(p,d,u,l,c[f+3],16,-722521979),l=h(l,p,d,u,c[f+6],23,76029189),u=h(u,l,p,d,c[f+9],4,-640364487),d=h(d,u,l,p,c[f+12],11,-421815835),p=h(p,d,u,l,c[f+15],16,530742520),l=h(l,p,d,u,c[f+2],23,-995338651),u=b(u,l,p,d,c[f+0],6,-198630844),d=b(d,u,l,p,c[f+7],10,1126891415),p=b(p,d,u,l,c[f+14],15,-1416354905),l=b(l,p,d,u,c[f+5],21,-57434055),u=b(u,l,p,d,c[f+12],6,1700485571),d=b(d,u,l,p,c[f+3],10,-1894986606),p=b(p,d,u,l,c[f+10],15,-1051523),l=b(l,p,d,u,c[f+1],21,-2054922799),u=b(u,l,p,d,c[f+8],6,1873313359),d=b(d,u,l,p,c[f+15],10,-30611744),p=b(p,d,u,l,c[f+6],15,-1560198380),l=b(l,p,d,u,c[f+13],21,1309151649),u=b(u,l,p,d,c[f+4],6,-145523070),d=b(d,u,l,p,c[f+11],10,-1120210379),p=b(p,d,u,l,c[f+2],15,718787259),l=b(l,p,d,u,c[f+9],21,-343485551),u=u+g>>>0,l=l+y>>>0,p=p+_>>>0,d=d+j>>>0}return e.endian([u,l,p,d])};o._ff=function(t,e,n,r,a,i,o){var c=t+(e&n|~e&r)+(a>>>0)+o;return(c<<i|c>>>32-i)+e},o._gg=function(t,e,n,r,a,i,o){var c=t+(e&r|n&~r)+(a>>>0)+o;return(c<<i|c>>>32-i)+e},o._hh=function(t,e,n,r,a,i,o){var c=t+(e^n^r)+(a>>>0)+o;return(c<<i|c>>>32-i)+e},o._ii=function(t,e,n,r,a,i,o){var c=t+(n^(e|~r))+(a>>>0)+o;return(c<<i|c>>>32-i)+e},o._blocksize=16,o._digestsize=16,t.exports=function(t,n){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var r=e.wordsToBytes(o(t,n));return n&&n.asBytes?r:n&&n.asString?i.bytesToString(r):e.bytesToHex(r)}})()},"6da9":function(t,e,n){"use strict";var r=n("d4ec"),a=n("262e"),i=n("2caf"),o=n("9ab4"),c=n("1157"),s=n.n(c),u=(n("8665"),n("1b40")),l=n("2b0e");window.$=window.jQuery=s.a;var p=function(t){Object(a["a"])(n,t);var e=Object(i["a"])(n);function n(){return Object(r["a"])(this,n),e.apply(this,arguments)}return n}(l["a"]);p=Object(o["a"])([u["a"]],p),e["a"]=p},"886e":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui container",attrs:{id:"contest_table"}},[2===t.mode?n("ContestNotStart"):t._e(),1===t.mode?n("LoginForm"):t._e(),3===t.mode?n("contest-mode"):t._e(),4===t.mode?n("LimitHostname",{attrs:{content:t.limit_content}}):t._e(),0===t.mode?n("div",{staticClass:"padding"},[n("h2",{staticClass:"ui dividing header"},[t._v(" "+t._s(t.$t("contest problem set"))+" "+t._s(t.cid)+" -- "+t._s(t.title)+" ")]),n("div",{staticClass:"ui grid"},[t._m(0),n("div",{staticClass:"row"},[n("div",{staticClass:"eleven wide column"},[n("table",{staticClass:"ui basic unstackable table",attrs:{id:"problemset",width:"95%"}},[n("thead",[n("tr",{staticClass:"toprow"},[n("th",{staticStyle:{"text-align":"center"},attrs:{width:"18%"}},[n("a",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.orderBy(0)}}},[0===t.type?n("i",{class:"sort numeric icon "+(t.order>0?"up":"down")}):n("i",{staticClass:"checkmark important icon",staticStyle:{opacity:"0"}}),t._v(" "+t._s(t.$t("id"))+" ")])]),n("th",{attrs:{width:"44%"}},[n("a",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.orderBy(1)}}},[1===t.type?n("i",{class:"sort numeric icon "+(t.order>0?"up":"down")}):n("i",{staticClass:"checkmark important icon",staticStyle:{opacity:"0"}}),t._v(" "+t._s(t.$t("title")))])]),t.now.isAfter(t.end_time)?n("th",{attrs:{width:"10%"}}):t._e(),n("th",{staticStyle:{"text-align":"center"},attrs:{width:"16%"}},[n("a",{staticStyle:{cursor:"pointer"}},[n("span",{on:{click:function(e){return t.orderBy(2)}}},[2===t.type?n("i",{class:"sort numeric icon "+(t.order>0?"up":"down")}):t._e(),t._v(" "+t._s(t.$t("accept")))])]),t._v("/"),n("a",{staticStyle:{cursor:"pointer"}},[n("span",{on:{click:function(e){return t.orderBy(3)}}},[3===t.type?n("i",{class:"sort numeric icon "+(t.order>0?"up":"down")}):t._e(),t._v(t._s(t.$t("submit")))])])]),n("th",{staticStyle:{"text-align":"center"},attrs:{width:"12%"}},[n("a",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.orderBy(4)}}},[4===t.type?n("i",{class:"sort numeric icon "+(t.order>0?"up":"down")}):t._e(),t._v(" "+t._s(t.$t("accept percentage"))+" ")])])])]),n("transition-group",{attrs:{mode:"out-in",name:"list-complete",tag:"tbody"}},t._l(t.problem_table,(function(e,r){return n("tr",{key:e.pnum,class:(1===e.ac?"positive":-1===e.ac?"negative":"")+" list-complete-item",attrs:{id:"popup"+r},on:{mouseenter:function(n){return t.triggerPopup(r,e.pid)}}},[n("td",{staticClass:"center aligned"},[t._v(t._s(e.oj_name?e.oj_name:e.pid?"LOCAL ":"")+t._s(e.pid)),e.pid?n("br"):t._e(),t._v("Problem "+t._s(e.pnum+1001)+" ")]),n("td",[1===e.ac?n("i",{staticClass:"checkmark important icon"}):-1===e.ac?n("i",{staticClass:"remove important icon"}):n("i",{staticClass:"checkmark important icon",staticStyle:{opacity:"0"}}),t.dayjs().isBefore(t.end_time)&&t.dayjs().isAfter(t.start_time)?n("router-link",{attrs:{to:"/contest/problem/"+t.cid+"/"+e.pnum},domProps:{innerHTML:t._s(t.contest(e.title,e.pnum))}}):n("router-link",{attrs:{to:"/problem/submit/"+e.pid},domProps:{innerHTML:t._s(t.contest(e.title,e.pnum))}}),t.admin&&t.getLabel(e.pid).length>0?n("br"):t._e(),t.admin?n("div",{staticStyle:{"margin-left":"20px"}},t._l(t.getLabel(e.pid),(function(e){return n("router-link",{directives:[{name:"show",rawName:"v-show",value:t.admin,expression:"admin"}],key:e,class:"ui "+t.getLabelColor(e)+" label",staticStyle:{"margin-top":"4px"},attrs:{to:"/problemset?label="+e}},[t._v(" "+t._s(e)+" ")])})),1):t._e()],1),t.now.isAfter(t.end_time)?n("td",[n("router-link",{attrs:{to:"/tutorial/"+e.pid}},[t._v(t._s(t.$t("solution")))])],1):t._e(),n("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(e.accepted)+"/"+t._s(e.submit))]),n("td",{staticStyle:{"text-align":"center"}},[t._v(t._s((100*e.accepted/Math.max(e.submit,1)).toString().substring(0,4))+" % ")])])})),0)],1)]),n("div",{staticClass:"five wide column"},[n("div",[n("ContestInfo",{attrs:{admin:t.admin,cid:t.cid,description:t.description,end_time:t.end_time,private_contest:t.private_contest,start_time:t.start_time,title:t.title}}),n("br")],1)])])])]):t._e()],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"sixteen wide column"})])}],i=(n("a4d3"),n("e01a"),n("99af"),n("4de4"),n("4160"),n("c975"),n("d81d"),n("ac1f"),n("1276"),n("498a"),n("159b"),n("5530")),o=(n("96cf"),n("1da1")),c=n("d4ec"),s=n("bee2"),u=n("262e"),l=n("2caf"),p=n("9ab4"),d=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},f=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"ui negative message"},[n("div",{staticClass:"header"},[n("i",{staticClass:"ban icon"}),t._v(" 竞赛尚未开始 ")]),n("p",[t._v("请等待竞赛开始后刷新 ")])])])}],v=n("2b0e"),m=n("1b40"),h=function(t){Object(u["a"])(n,t);var e=Object(l["a"])(n);function n(){return Object(c["a"])(this,n),e.apply(this,arguments)}return n}(v["a"]);h=Object(p["a"])([m["a"]],h);var b=h,g=b,y=n("2877"),_=Object(y["a"])(g,d,f,!1,null,"18109bdc",null),j=_.exports,O=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},w=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",{staticClass:"ui dividing header"},[t._v("私有竞赛/作业")]),n("form",{staticClass:"ui form",attrs:{id:"contest_form",method:"post"}},[n("div",{staticClass:"fields"},[n("div",{staticClass:"six wide field"},[n("label",[t._v("请输入密码")]),n("input",{staticClass:"input-mini",attrs:{id:"contest_pass",name:"password",type:"password"}})])]),n("input",{staticClass:"ui primary button",attrs:{type:"submit"}})])])}],k=n("1157"),C=n.n(k),x=C.a,S=function(t){Object(u["a"])(n,t);var e=Object(l["a"])(n);function n(){return Object(c["a"])(this,n),e.apply(this,arguments)}return Object(s["a"])(n,[{key:"mounted",value:function(){var t=this;x("#contest_form").submit((function(){return t.axios.post("/api/contest/password/".concat(t.$route.params.contest_id),{password:x("#contest_pass").val()}).then((function(e){e.data;t.$parent.mode=0})).catch((function(t){var e=t.data;alert(e.statement)})),!1}))}}]),n}(v["a"]);S=Object(p["a"])([m["a"]],S);var A=S,M=A,B=Object(y["a"])(M,O,w,!1,null,"0e3da4e6",null),T=B.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui raised segment"},[n("div",{staticClass:"ui grid"},[n("div",{staticClass:"row"}),n("div",{staticClass:"row"}),n("div",{staticClass:"row"},[n("div",{staticClass:"sixteen wide column"},[n("contest-problem-progress-bar",{attrs:{"start-time":t.start_time,"end-time":t.end_time}})],1)]),n("div",{staticClass:"row"},[n("p",{staticStyle:{padding:"1em"}},[t._v(t._s(t.description))])])]),n("div",{class:"ui top right attached label "+(t.private_contest?"red":"green")},[t._v(" "+t._s(t.private_contest?t.$t("private"):t.$t("public"))+" ")]),n("div",{class:"ui top left attached "+(t.now.isAfter(t.end_time)?"red":t.now.isBefore(t.start_time)?"grey":"green")+" label"},[t.now.isAfter(t.end_time)?n("span",{staticClass:"red"},[t._v(t._s(t.$t("end")))]):t.now.isBefore(t.start_time)?n("span",{staticClass:"red"},[t._v("Pending")]):n("span",{staticClass:"green"},[t._v(t._s(t.$t("running")))])])])},P=[],R=n("5a0c"),L=n.n(R),I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("progress-bar",{ref:"progress",attrs:{popupEvent:t.trigger,active:!1,size:"standard",color:"green",percentage:t.percentage}})},N=[],H=n("626a"),z=function(t){Object(u["a"])(n,t);var e=Object(l["a"])(n);function n(){var t;return Object(c["a"])(this,n),t=e.apply(this,arguments),t.start=L()(),t.end=L()(),t.period=1<<30,t}return Object(s["a"])(n,[{key:"onStartTimeChanged",value:function(t){this.start=L()(t),this.period=Math.abs(this.end.diff(this.start))}},{key:"onEndTimeChanged",value:function(t){this.end=L()(t),this.period=Math.abs(this.end.diff(this.start))}},{key:"getPopupHtml",value:function(){return'<div class="content">\n            '.concat(this.$t("start time"),": ").concat(this.startTime.format("YYYY-MM-DD HH:mm:ss"),"\n            <br>\n            ").concat(this.$t("end time"),": ").concat(this.endTime.format("YYYY-MM-DD HH:mm:ss"),"\n            </div>")}},{key:"trigger",value:function(t){$(t).popup({hoverable:!0,html:this.getPopupHtml()}).popup("show")}},{key:"percentage",get:function(){var t=L()(),e=t.diff(this.start);return Math.min(100*Math.max(e,0)/this.period,100)}}]),n}(v["a"]);Object(p["a"])([Object(m["c"])({default:L()()})],z.prototype,"startTime",void 0),Object(p["a"])([Object(m["c"])({default:L()()})],z.prototype,"endTime",void 0),Object(p["a"])([Object(m["d"])("startTime")],z.prototype,"onStartTimeChanged",null),Object(p["a"])([Object(m["d"])("endTime")],z.prototype,"onEndTimeChanged",null),z=Object(p["a"])([Object(m["a"])({components:{ProgressBar:H["a"]}})],z);var D=z,U=D,W=Object(y["a"])(U,I,N,!1,null,"09eabde6",null),Y=W.exports,F=function(t){Object(u["a"])(n,t);var e=Object(l["a"])(n);function n(){var t;return Object(c["a"])(this,n),t=e.apply(this,arguments),t.now=L()(),t}return Object(s["a"])(n,[{key:"mounted",value:function(){var t=this;setInterval((function(){t.now=L()()}),1e3)}}]),n}(v["a"]);Object(p["a"])([Object(m["c"])({default:L()()})],F.prototype,"start_time",void 0),Object(p["a"])([Object(m["c"])({default:L()()})],F.prototype,"end_time",void 0),Object(p["a"])([Object(m["c"])({default:""})],F.prototype,"description",void 0),Object(p["a"])([Object(m["c"])({default:""})],F.prototype,"title",void 0),Object(p["a"])([Object(m["c"])({default:!1})],F.prototype,"admin",void 0),Object(p["a"])([Object(m["c"])({default:!1})],F.prototype,"private_contest",void 0),Object(p["a"])([Object(m["c"])({default:0})],F.prototype,"cid",void 0),F=Object(p["a"])([Object(m["a"])({components:{ContestProblemProgressBar:Y}})],F);var J=F,q=J,K=Object(y["a"])(q,E,P,!1,null,"458b15dc",null),Q=K.exports,Z=n("d3a2"),G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui negative message"},[t._m(0),n("p",[t._v(t._s(t.content))])])},V=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("i",{staticClass:"ban icon"}),t._v("访问限制")])}],X=function(t){Object(u["a"])(n,t);var e=Object(l["a"])(n);function n(){return Object(c["a"])(this,n),e.apply(this,arguments)}return n}(v["a"]);Object(p["a"])([Object(m["c"])({default:""})],X.prototype,"content",void 0),X=Object(p["a"])([m["a"]],X);var tt=X,et=tt,nt=Object(y["a"])(et,G,V,!1,null,"1446e3db",null),rt=nt.exports,at=n("2cd4"),it=n("2f62"),ot=n("2ef0"),ct=n.n(ot),st=n("92f1"),ut={},lt=C.a,pt=function(t){Object(u["a"])(n,t);var e=Object(l["a"])(n);function n(){var t;return Object(c["a"])(this,n),t=e.apply(this,arguments),t.colorSet=["red","orange","yellow","olive","green","teal","blue","violet","purple","pink","brown","grey"],t.colorMap={},t.cid=0,t.problem_table=[],t.start_time=L()(),t.end_time=L()(),t.description="",t.title="",t.now=L()(),t.problemInfo={},t.current_mode=0,t.order=1,t.type=0,t.contest_mode=!1,t.limit_content="",t.private_contest=!1,t.dayjs=L.a,t}return Object(s["a"])(n,[{key:"created",value:function(){this.cid=parseInt(this.$route.params.contest_id),this.title=this.$t("loading")}},{key:"mounted",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.contest_id,document.title="Contest ".concat(e," -- ").concat(document.title),t.next=4,this.getInfo();case 4:this.run(this.run);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getInfo",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.admin||this.contest_manager){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.axios.get("/api/contest/problem_info/".concat(this.cid)).then((function(t){var n=t.data;if("OK"===n.status){var r=n.data;r.forEach((function(t){e.problemInfo[t.problem_id]=t}))}}));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getLabelColor",value:function(t){return Object.prototype.hasOwnProperty.call(this.colorMap,t)||(this.colorMap[t]=this.colorSet[Math.floor(Math.random()*this.colorSet.length)]),this.colorMap[t]}},{key:"triggerPopup",value:function(t,e){var n=this.problemDetail(e);lt("#popup"+t).popup({hoverable:!0,html:n}).popup("show")}},{key:"problemDetail",value:function(t){var e=this.problemInfo[t];if(e){var n=e.accepted,r=e.submit,a=Math.floor(100*n/Math.max(r,1));return'<div class="content">\n本题历史统计<br>提交: '.concat(r," 通过:").concat(n," 通过率:").concat(a,"%\n</div>")}return""}},{key:"hasLabel",value:function(t){return this.getLabel(t).length>0}},{key:"getLabel",value:function(t){if(Object.prototype.hasOwnProperty.call(ut,t))return ut[t];var e=this.problemInfo[t];if(e){var n=e.label,r="string"===typeof n?n.split(" ").map((function(t){return t.trim()})).filter((function(t){return t.length>0})):[];return r.sort((function(t,e){return"简单"===t||"普通"===t||"中等"===t||"困难"===t?-1:"简单"===e||"普通"===e||"中等"===e||"困难"===e?1:t<e?-1:t===e?0:1})),ut[t]=r,r}}},{key:"run",value:function(t){var e=this,n=this.$route.params.contest_id,r=this;this.cid=parseInt(n),this.axios.get("/api/contest/problem/"+n).then((function(n){console.log(n);var a=n.data;ct.a.forEach(a.data,(function(t){t.accepted||(t.accepted=0),t.submit||(t.submit=0)}));var i=a.limit,c=a.contest_mode;if(a.admin&&(i=null,c=!1),i&&-1===location.href.indexOf(i))return r.mode=4,void(r.limit_content="根据管理员设置的策略，本次contest请使用"+i+"访问");r.problem_table=a.data,e.problem_table.forEach(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.title){t.next=4;break}return t.next=3,e.renderRawAsync(n.title);case 3:n.title=t.sent;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var s=a.info;r.start_time=L()(s.start_time),r.end_time=L()(s.end_time),r.title=s.title,r.contest_mode=c,r.description=s.description,r.private_contest=Boolean(s.private),"function"===typeof t&&t()})).catch((function(t){var e=t.data;console.log(e),"Permission denied"===e.statement?r.mode=1:101===e.error_code?r.mode=2:e.contest_mode&&(r.mode=3)}))}},{key:"detect_source",value:function(t){return t.oj_name&&"local"!==t.oj_name.toLowerCase()?t.oj_name.toLowerCase():"new"}},{key:"contest",value:function(t,e){return this.contest_mode?"Problem "+String.fromCharCode("A".charCodeAt(0)+parseInt(e)):t}},{key:"orderBy",value:function(t){var e=this;e.type===t&&(e.order=-e.order);var n=function(t,n){return e.order*(t.pnum-n.pnum)},r=function(t,n){return e.order*(t.title>n.title?1:t.title<n.title?-1:0)},a=function(t,n){return e.order*(t.submit-n.submit)},i=function(t,n){return e.order*(t.accepted-n.accepted)},o=function(t,n){var r=t.accepted/Math.max(t.submit,1),a=n.accepted/Math.max(n.submit,1);return e.order*(r-a)},c=[n,r,i,a,o];e.problem_table.sort(c[t]),e.type=t}},{key:"mode",get:function(){return this.current_mode},set:function(t){var e=t!==this.current_mode;this.current_mode=t,e&&this.run(this.run)}}]),n}(Object(m["b"])(at["a"],st["a"]));pt=Object(p["a"])([Object(m["a"])({components:{ContestProblemProgressBar:Y,ContestNotStart:j,LoginForm:T,ContestInfo:Q,ContestMode:Z["a"],LimitHostname:rt},computed:Object(i["a"])({},Object(it["b"])(["admin","contest_manager"]))})],pt);var dt=pt,ft=dt,vt=(n("ab89"),Object(y["a"])(ft,r,a,!1,null,"89b61776",null));e["default"]=vt.exports},"92f1":function(t,e,n){"use strict";n("96cf");var r=n("1da1"),a=n("d4ec"),i=n("bee2"),o=n("262e"),c=n("2caf"),s=n("9ab4"),u=n("2b0e"),l=n("1b40"),p=n("ebb0"),d=n.n(p),f=n("a390"),v=n.n(f),m=n("5dbd"),h=function(t){Object(o["a"])(n,t);var e=Object(c["a"])(n);function n(){var t;return Object(a["a"])(this,n),t=e.apply(this,arguments),t.originalWorker=new v.a,t}return Object(i["a"])(n,[{key:"created",value:function(){this.worker_=new d.a(this.originalWorker)}},{key:"beforeDestroy",value:function(){this.originalWorker.terminate()}},{key:"renderAsync",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.worker_.postMessage({type:"render",content:e}));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"renderPlainAsync",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.worker_.postMessage({type:"renderPlain",content:e}));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"renderRawAsync",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.worker_.postMessage({type:"renderRaw",content:e}));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),n}(u["a"]);Object(s["a"])([m["f"]],h.prototype,"renderAsync",null),Object(s["a"])([m["f"]],h.prototype,"renderPlainAsync",null),Object(s["a"])([m["f"]],h.prototype,"renderRawAsync",null),h=Object(s["a"])([l["a"]],h),e["a"]=h},"9a63":function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},a390:function(t,e,n){"use strict";t.exports=function(){return new Worker("/2f070ed7dde1f4e2e0e2.worker.js")}},ab89:function(t,e,n){"use strict";n("bb363")},bb363:function(t,e,n){},bc99:function(t,e,n){"use strict";var r=n("111f"),a=n.n(r);e["default"]=a.a},d3a2:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ui negative message"},[n("div",{staticClass:"header"},[n("i",{staticClass:"ban icon"}),t._v(t._s(t.$t("contest mode")))]),n("p",[t._v(t._s(t.$t("context")))])])},a=[],i=n("d4ec"),o=n("262e"),c=n("2caf"),s=n("9ab4"),u=n("1b40"),l=n("2b0e"),p=function(t){Object(o["a"])(n,t);var e=Object(c["a"])(n);function n(){return Object(i["a"])(this,n),e.apply(this,arguments)}return n}(l["a"]);p=Object(s["a"])([u["a"]],p);var d=p,f=d,v=n("2877"),m=n("bc99"),h=Object(v["a"])(f,r,a,!1,null,"5816c0f2",null);"function"===typeof m["default"]&&Object(m["default"])(h);e["a"]=h.exports},ebb0:function(t,e,n){"use strict";var r=0;function a(t,e){var n=e.data;if(Array.isArray(n)&&!(n.length<2)){var r=n[0],a=n[1],i=n[2],o=t._callbacks[r];o&&(delete t._callbacks[r],o(a,i))}}function i(t){var e=this;e._worker=t,e._callbacks={},t.addEventListener("message",(function(t){a(e,t)}))}i.prototype.postMessage=function(t){var e=this,n=r++,i=[n,t];return new Promise((function(t,r){if(e._callbacks[n]=function(e,n){if(e)return r(new Error(e.message));t(n)},"undefined"!==typeof e._worker.controller){var o=new MessageChannel;o.port1.onmessage=function(t){a(e,t)},e._worker.controller.postMessage(i,[o.port2])}else e._worker.postMessage(i)}))},t.exports=i},ee78:function(t,e,n){"use strict";n("0b52")}}]);