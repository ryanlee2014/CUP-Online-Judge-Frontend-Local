(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-369c42a6"],{f081:function(n,t){n.exports=function(n){n.options.__i18n=n.options.__i18n||[],n.options.__i18n.push('{"zh-cn":{"version control":"版本管理"},"en":{"version control":"Version Control"},"ja":{"version control":"バージョン管理"}}'),delete n.options._Ctor}},f288:function(n,t,e){"use strict";var a=e("f081"),i=e.n(a);t["default"]=i.a},f53c:function(n,t,e){"use strict";e.r(t);var a=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"ui container padding"},[e("h2",{staticClass:"ui dividing header"},[n._v(n._s(n.$t("version control")))]),e("div",{staticClass:"ui grid",staticStyle:{"margin-left":"0"}},[e("div",{staticClass:"row"},[e("h3",{staticClass:"ui header"},[n._v(" "+n._s(n.$t("frontend module version"))+" ")])]),e("div",{staticClass:"row"},[e("h3",{staticClass:"ui header"},[n._v(" "+n._s(n.$t("current version"))+" ")])]),e("div",{staticClass:"row"},[e("div",{staticClass:"ui card"},[e("RepoInfoCard",{scopedSlots:n._u([{key:"header",fn:function(){return[n._v(" "+n._s(n.currentFrontendInfo.version)+" ")]},proxy:!0},{key:"meta",fn:function(){},proxy:!0}])})],1)]),e("div",{staticClass:"row"},[e("h3",{staticClass:"ui header"},[n._v(" "+n._s(n.$t("repo branch version"))+" ")])]),e("div",{staticClass:"row"},[e("div",{staticClass:"ui cards"},n._l(n.frontendBranch,(function(t,a){return e("RepoInfoCard",{key:a,scopedSlots:n._u([{key:"header",fn:function(){return[n._v(" "+n._s(t.name)+" ")]},proxy:!0},{key:"meta",fn:function(){return[n._v(" "+n._s(t.version)+" ")]},proxy:!0},{key:"content",fn:function(){},proxy:!0}],null,!0)})})),1)]),e("div",{staticClass:"row"},[e("h3",{staticClass:"ui header"},[n._v(" "+n._s(n.$t("backend module version"))+" ")])]),e("div",{staticClass:"row"},[e("h3",{staticClass:"ui header"},[n._v(" "+n._s(n.$t("current version"))+" ")])]),e("div",{staticClass:"row"},[e("div",{staticClass:"ui card"},[e("RepoInfoCard",{scopedSlots:n._u([{key:"header",fn:function(){return[n._v(" "+n._s(n.currentBackendInfo.version)+" ")]},proxy:!0},{key:"meta",fn:function(){},proxy:!0}])})],1)]),e("div",{staticClass:"row"},[e("h3",{staticClass:"ui header"},[n._v(" "+n._s(n.$t("repo branch version"))+" ")])]),e("div",{staticClass:"row"},[e("div",{staticClass:"ui cards"},n._l(n.backendBranch,(function(t,a){return e("RepoInfoCard",{key:a,scopedSlots:n._u([{key:"header",fn:function(){return[n._v(" "+n._s(t.name)+" ")]},proxy:!0},{key:"meta",fn:function(){return[n._v(" "+n._s(t.version)+" ")]},proxy:!0},{key:"content",fn:function(){},proxy:!0}],null,!0)})})),1)])])])},i=[],r=(e("99af"),e("4160"),e("b0c0"),e("d3b7"),e("3ca3"),e("159b"),e("ddb0"),e("d4ec")),s=e("bee2"),o=e("262e"),c=e("2caf"),u=e("9ab4"),d=e("60a3"),l=e("2cd4"),v=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"ui card"},[e("div",{staticClass:"content"},[e("div",{staticClass:"header"},[n._t("header")],2),e("div",{staticClass:"meta"},[n._t("meta")],2),e("p",[n._t("content")],2)])])},f=[],h=e("2b0e"),p=function(n){Object(o["a"])(e,n);var t=Object(c["a"])(e);function e(){return Object(r["a"])(this,e),t.apply(this,arguments)}return e}(h["a"]);p=Object(u["c"])([d["a"]],p);var _=p,b=_,k=e("2877"),C=Object(k["a"])(b,v,f,!1,null,"1d2c2c24",null),y=C.exports,m=e("9224"),g=function(n){Object(o["a"])(e,n);var t=Object(c["a"])(e);function e(){var n;return Object(r["a"])(this,e),n=t.apply(this,arguments),n.frontendBranch=[],n.backendBranch=[],n.currentFrontendInfo=m,n.currentBackendInfo={},n.frontendRepo="ryanlee2014/CUP-Online-Judge-NG-Frontend",n.backendRepo="CUP-ACM-Programming-Club/CUP-Online-Judge-Express",n}return Object(s["a"])(e,[{key:"mounted",value:function(){this.initFrontendData(),this.initBackendData()}},{key:"buildBranchAPIUrl",value:function(n){return"https://api.github.com/repos/".concat(n,"/branches?timestamp=").concat(Date.now())}},{key:"buildVersion",value:function(n,t){var e=this,a=[];return t.forEach((function(t){var i=e.axios.get(e.buildJsDelivrLink(n,t.name)).then((function(n){var e=n.data;return t.version=e.version,t}));a.push(i)})),Promise.all(a)}},{key:"baseInitData",value:function(n,t){var e=this;this.axios.get(this.buildBranchAPIUrl(n)).then((function(t){var a=t.data;return e.buildVersion(n,a)})).then((function(n){return n.sort((function(n,t){return n.version<t.version?1:n.version>t.version?-1:0})),n})).then((function(n){e[t]=n}))}},{key:"initFrontendData",value:function(){this.baseInitData(this.frontendRepo,"frontendBranch")}},{key:"initBackendData",value:function(){this.baseInitData(this.backendRepo,"backendBranch"),this.getBackendVersion()}},{key:"getBackendVersion",value:function(){var n=this;this.axios.get("/api/system/config/version_control/version").then((function(t){var e=t.data;n.currentBackendInfo=n.buildVersionPackage(e.data)}))}},{key:"buildVersionPackage",value:function(n){return{version:n}}},{key:"buildJsDelivrLink",value:function(n,t){return"https://cdn.jsdelivr.net/gh/".concat(n,"@").concat(t,"/package.json?timestamp=").concat(Date.now())}}]),e}(Object(d["b"])(l["a"]));g=Object(u["c"])([Object(d["a"])({components:{RepoInfoCard:y}})],g);var w=g,j=w,x=e("f288"),O=Object(k["a"])(j,a,i,!1,null,"3ca8ea76",null);"function"===typeof x["default"]&&Object(x["default"])(O);t["default"]=O.exports}}]);